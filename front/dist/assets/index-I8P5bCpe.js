var lt=Object.defineProperty;var ut=(w,C,O)=>C in w?lt(w,C,{enumerable:!0,configurable:!0,writable:!0,value:O}):w[C]=O;var ct=(w,C)=>()=>(C||w((C={exports:{}}).exports,C),C.exports);var ie=(w,C,O)=>(ut(w,typeof C!="symbol"?C+"":C,O),O);var It=ct(($e,at)=>{(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))z(I);new MutationObserver(I=>{for(const k of I)if(k.type==="childList")for(const M of k.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&z(M)}).observe(document,{childList:!0,subtree:!0});function O(I){const k={};return I.integrity&&(k.integrity=I.integrity),I.referrerPolicy&&(k.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?k.credentials="include":I.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function z(I){if(I.ep)return;I.ep=!0;const k=O(I);fetch(I.href,k)}})();const ft="modulepreload",mt=function(w){return"/"+w},Xe={},ae=function(C,O,z){let I=Promise.resolve();if(O&&O.length>0){const k=document.getElementsByTagName("link");I=Promise.all(O.map(M=>{if(M=mt(M),M in Xe)return;Xe[M]=!0;const P=M.endsWith(".css"),Q=P?'[rel="stylesheet"]':"";if(!!z)for(let Y=k.length-1;Y>=0;Y--){const $=k[Y];if($.href===M&&(!P||$.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${M}"]${Q}`))return;const V=document.createElement("link");if(V.rel=P?"stylesheet":ft,P||(V.as="script",V.crossOrigin=""),V.href=M,document.head.appendChild(V),P)return new Promise((Y,$)=>{V.addEventListener("load",Y),V.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${M}`)))})}))}return I.then(()=>C()).catch(k=>{const M=new Event("vite:preloadError",{cancelable:!0});if(M.payload=k,window.dispatchEvent(M),!M.defaultPrevented)throw k})};(function(w,C){const O=C(w);typeof $e=="object"&&typeof $e.nodeName!="string"?at.exports=O:(w._hyperscript=O,"document"in w&&w._hyperscript.browserInit())})(typeof self<"u"?self:void 0,w=>{const C={dynamicResolvers:[function(E,t){if(E==="Fixed")return Number(t).toFixed();if(E.indexOf("Fixed:")===0){let o=E.split(":")[1];return Number(t).toFixed(parseInt(o))}}],String:function(E){return E.toString?E.toString():""+E},Int:function(E){return parseInt(E)},Float:function(E){return parseFloat(E)},Number:function(E){return Number(E)},Date:function(E){return new Date(E)},Array:function(E){return Array.from(E)},JSON:function(E){return JSON.stringify(E)},Object:function(E){return E instanceof String&&(E=E.toString()),typeof E=="string"?JSON.parse(E):Object.assign({},E)}},O={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",hideShowStrategies:{},conversions:C},W=class W{static isValidCSSClassChar(t){return W.isAlpha(t)||W.isNumeric(t)||t==="-"||t==="_"||t===":"}static isValidCSSIDChar(t){return W.isAlpha(t)||W.isNumeric(t)||t==="-"||t==="_"||t===":"}static isWhitespace(t){return t===" "||t==="	"||W.isNewline(t)}static positionString(t){return"[Line: "+t.line+", Column: "+t.column+"]"}static isNewline(t){return t==="\r"||t===`
`}static isNumeric(t){return t>="0"&&t<="9"}static isAlpha(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}static isIdentifierChar(t,o){return t==="_"||t==="$"}static isReservedChar(t){return t==="`"||t==="^"}static isValidSingleQuoteStringStart(t){if(t.length>0){var o=t[t.length-1];if(o.type==="IDENTIFIER"||o.type==="CLASS_REF"||o.type==="ID_REF"||o.op&&(o.value===">"||o.value===")"))return!1}return!0}static tokenize(t,o){var f=[],p=t,y=0,h=0,v=1,u="<START>",b=0;function q(){return o&&b===0}for(;y<p.length;)if(i()==="-"&&c()==="-"&&(W.isWhitespace(m(2))||m(2)===""||m(2)==="-")||i()==="/"&&c()==="/"&&(W.isWhitespace(m(2))||m(2)===""||m(2)==="/"))L();else if(i()==="/"&&c()==="*"&&(W.isWhitespace(m(2))||m(2)===""||m(2)==="*"))R();else if(W.isWhitespace(i()))f.push(S());else if(!T()&&i()==="."&&(W.isAlpha(c())||c()==="{"||c()==="-"))f.push(F());else if(!T()&&i()==="#"&&(W.isAlpha(c())||c()==="{"))f.push(r());else if(i()==="["&&c()==="@")f.push(H());else if(i()==="@")f.push(G());else if(i()==="*"&&W.isAlpha(c()))f.push(j());else if(W.isAlpha(i())||!q()&&W.isIdentifierChar(i()))f.push(a());else if(W.isNumeric(i()))f.push(e());else if(!q()&&(i()==='"'||i()==="`"))f.push(l());else if(!q()&&i()==="'")W.isValidSingleQuoteStringStart(f)?f.push(l()):f.push(n());else if(W.OP_TABLE[i()])u==="$"&&i()==="{"&&b++,i()==="}"&&b--,f.push(n());else if(q()||W.isReservedChar(i()))f.push(A("RESERVED",d()));else if(y<p.length)throw Error("Unknown token: "+i()+" ");return new I(f,[],p);function N(x,g){var _=A(x,g);return _.op=!0,_}function A(x,g){return{type:x,value:g||"",start:y,end:y+1,column:h,line:v}}function L(){for(;i()&&!W.isNewline(i());)d();d()}function R(){for(;i()&&!(i()==="*"&&c()==="/");)d();d(),d()}function F(){var x=A("CLASS_REF"),g=d();if(i()==="{"){for(x.template=!0,g+=d();i()&&i()!=="}";)g+=d();if(i()!=="}")throw Error("Unterminated class reference");g+=d()}else for(;W.isValidCSSClassChar(i());)g+=d();return x.value=g,x.end=y,x}function H(){for(var x=A("ATTRIBUTE_REF"),g=d();y<p.length&&i()!=="]";)g+=d();return i()==="]"&&(g+=d()),x.value=g,x.end=y,x}function G(){for(var x=A("ATTRIBUTE_REF"),g=d();W.isValidCSSIDChar(i());)g+=d();if(i()==="="){if(g+=d(),i()==='"'||i()==="'"){let _=l();g+=_.value}else if(W.isAlpha(i())||W.isNumeric(i())||W.isIdentifierChar(i())){let _=a();g+=_.value}}return x.value=g,x.end=y,x}function j(){for(var x=A("STYLE_REF"),g=d();W.isAlpha(i())||i()==="-";)g+=d();return x.value=g,x.end=y,x}function r(){var x=A("ID_REF"),g=d();if(i()==="{"){for(x.template=!0,g+=d();i()&&i()!=="}";)g+=d();if(i()!=="}")throw Error("Unterminated id reference");d()}else for(;W.isValidCSSIDChar(i());)g+=d();return x.value=g,x.end=y,x}function a(){for(var x=A("IDENTIFIER"),g=d();W.isAlpha(i())||W.isNumeric(i())||W.isIdentifierChar(i());)g+=d();return i()==="!"&&g==="beep"&&(g+=d()),x.value=g,x.end=y,x}function e(){for(var x=A("NUMBER"),g=d();W.isNumeric(i());)g+=d();for(i()==="."&&W.isNumeric(c())&&(g+=d());W.isNumeric(i());)g+=d();for((i()==="e"||i()==="E")&&(W.isNumeric(c())?g+=d():c()==="-"&&(g+=d(),g+=d()));W.isNumeric(i());)g+=d();return x.value=g,x.end=y,x}function n(){for(var x=N(),g=d();i()&&W.OP_TABLE[g+i()];)g+=d();return x.type=W.OP_TABLE[g],x.value=g,x.end=y,x}function l(){for(var x=A("STRING"),g=d(),_="";i()&&i()!==g;)if(i()==="\\"){d();let U=d();if(U==="b")_+="\b";else if(U==="f")_+="\f";else if(U==="n")_+=`
`;else if(U==="r")_+="\r";else if(U==="t")_+="	";else if(U==="v")_+="\v";else if(U==="x"){const D=s();if(Number.isNaN(D))throw Error("Invalid hexadecimal escape at "+W.positionString(x));_+=String.fromCharCode(D)}else _+=U}else _+=d();if(i()!==g)throw Error("Unterminated string at "+W.positionString(x));return d(),x.value=_,x.end=y,x.template=g==="`",x}function s(){if(!i())return NaN;let g=16*Number.parseInt(d(),16);return i()?(g+=Number.parseInt(d(),16),g):NaN}function i(){return p.charAt(y)}function c(){return p.charAt(y+1)}function m(x=1){return p.charAt(y+x)}function d(){return u=i(),y++,h++,u}function T(){return W.isAlpha(u)||W.isNumeric(u)||u===")"||u==='"'||u==="'"||u==="`"||u==="}"||u==="]"}function S(){for(var x=A("WHITESPACE"),g="";i()&&W.isWhitespace(i());)W.isNewline(i())&&(h=0,v++),g+=d();return x.value=g,x.end=y,x}}tokenize(t,o){return W.tokenize(t,o)}};ie(W,"OP_TABLE",{"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS"});let z=W;class I{constructor(t,o,f){ie(this,"_lastConsumed",null);ie(this,"follows",[]);this.tokens=t,this.consumed=o,this.source=f,this.consumeWhitespace()}get list(){return this.tokens}consumeWhitespace(){for(;this.token(0,!0).type==="WHITESPACE";)this.consumed.push(this.tokens.shift())}raiseError(t,o){k.raiseParseError(t,o)}requireOpToken(t){var o=this.matchOpToken(t);if(o)return o;this.raiseError(this,"Expected '"+t+"' but found '"+this.currentToken().value+"'")}matchAnyOpToken(t,o,f){for(var p=0;p<arguments.length;p++){var y=arguments[p],h=this.matchOpToken(y);if(h)return h}}matchAnyToken(t,o,f){for(var p=0;p<arguments.length;p++){var y=arguments[p],h=this.matchToken(y);if(h)return h}}matchOpToken(t){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===t)return this.consumeToken()}requireTokenType(t,o,f,p){var y=this.matchTokenType(t,o,f,p);if(y)return y;this.raiseError(this,"Expected one of "+JSON.stringify([t,o,f]))}matchTokenType(t,o,f,p){if(this.currentToken()&&this.currentToken().type&&[t,o,f,p].indexOf(this.currentToken().type)>=0)return this.consumeToken()}requireToken(t,o){var f=this.matchToken(t,o);if(f)return f;this.raiseError(this,"Expected '"+t+"' but found '"+this.currentToken().value+"'")}peekToken(t,o,f){if(o=o||0,f=f||"IDENTIFIER",this.tokens[o]&&this.tokens[o].value===t&&this.tokens[o].type===f)return this.tokens[o]}matchToken(t,o){if(this.follows.indexOf(t)===-1&&(o=o||"IDENTIFIER",this.currentToken()&&this.currentToken().value===t&&this.currentToken().type===o))return this.consumeToken()}consumeToken(){var t=this.tokens.shift();return this.consumed.push(t),this._lastConsumed=t,this.consumeWhitespace(),t}consumeUntil(t,o){for(var f=[],p=this.token(0,!0);(o==null||p.type!==o)&&(t==null||p.value!==t)&&p.type!=="EOF";){var y=this.tokens.shift();this.consumed.push(y),f.push(p),p=this.token(0,!0)}return this.consumeWhitespace(),f}lastWhitespace(){return this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE"?this.consumed[this.consumed.length-1].value:""}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(t,o){var f,p=0;do{if(!o)for(;this.tokens[p]&&this.tokens[p].type==="WHITESPACE";)p++;f=this.tokens[p],t--,p++}while(t>-1);return f||{type:"EOF",value:"<<<EOF>>>"}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}pushFollow(t){this.follows.push(t)}popFollow(){this.follows.pop()}clearFollows(){var t=this.follows;return this.follows=[],t}restoreFollows(t){this.follows=t}}ie(I,"sourceFor",function(){return this.programSource.substring(this.startToken.start,this.endToken.end)}),ie(I,"lineFor",function(){return this.programSource.split(`
`)[this.startToken.line-1]});class k{constructor(t){ie(this,"GRAMMAR",{});ie(this,"COMMANDS",{});ie(this,"FEATURES",{});ie(this,"LEAF_EXPRESSIONS",[]);ie(this,"INDIRECT_EXPRESSIONS",[]);this.runtime=t,this.possessivesDisabled=!1,this.addGrammarElement("feature",function(o,f,p){if(p.matchOpToken("(")){var y=o.requireElement("feature",p);return p.requireOpToken(")"),y}var h=o.FEATURES[p.currentToken().value||""];if(h)return h(o,f,p)}),this.addGrammarElement("command",function(o,f,p){if(p.matchOpToken("(")){const v=o.requireElement("command",p);return p.requireOpToken(")"),v}var y=o.COMMANDS[p.currentToken().value||""];let h;return y?h=y(o,f,p):p.currentToken().type==="IDENTIFIER"&&(h=o.parseElement("pseudoCommand",p)),h&&o.parseElement("indirectStatement",p,h)}),this.addGrammarElement("commandList",function(o,f,p){if(p.hasMore()){var y=o.parseElement("command",p);if(y){p.matchToken("then");const h=o.parseElement("commandList",p);return h&&(y.next=h),y}}return{type:"emptyCommandListCommand",op:function(h){return f.findNext(this,h)},execute:function(h){return f.unifiedExec(this,h)}}}),this.addGrammarElement("leaf",function(o,f,p){var y=o.parseAnyOf(o.LEAF_EXPRESSIONS,p);return y??o.parseElement("symbol",p)}),this.addGrammarElement("indirectExpression",function(o,f,p,y){for(var h=0;h<o.INDIRECT_EXPRESSIONS.length;h++){var v=o.INDIRECT_EXPRESSIONS[h];y.endToken=p.lastMatch();var u=o.parseElement(v,p,y);if(u)return u}return y}),this.addGrammarElement("indirectStatement",function(o,f,p,y){if(p.matchToken("unless")){y.endToken=p.lastMatch();var h=o.requireElement("expression",p),v={type:"unlessStatementModifier",args:[h],op:function(u,b){return b?this.next:y},execute:function(u){return f.unifiedExec(this,u)}};return y.parent=v,v}return y}),this.addGrammarElement("primaryExpression",function(o,f,p){var y=o.parseElement("leaf",p);if(y)return o.parseElement("indirectExpression",p,y);o.raiseParseError(p,"Unexpected value: "+p.currentToken().value)})}use(t){return t(this),this}initElt(t,o,f){t.startToken=o,t.sourceFor=I.sourceFor,t.lineFor=I.lineFor,t.programSource=f.source}parseElement(t,o,f=void 0){var p=this.GRAMMAR[t];if(p){var y=o.currentToken(),h=p(this,this.runtime,o,f);if(h){this.initElt(h,y,o),h.endToken=h.endToken||o.lastMatch();for(var f=h.root;f!=null;)this.initElt(f,y,o),f=f.root}return h}}requireElement(t,o,f,p){var y=this.parseElement(t,o,p);return y||k.raiseParseError(o,f||"Expected "+t),y}parseAnyOf(t,o){for(var f=0;f<t.length;f++){var p=t[f],y=this.parseElement(p,o);if(y)return y}}addGrammarElement(t,o){this.GRAMMAR[t]=o}addCommand(t,o){var f=t+"Command",p=function(y,h,v){const u=o(y,h,v);if(u)return u.type=f,u.execute=function(b){return b.meta.command=u,h.unifiedExec(this,b)},u};this.GRAMMAR[f]=p,this.COMMANDS[t]=p}addFeature(t,o){var f=t+"Feature",p=function(y,h,v){var u=o(y,h,v);if(u)return u.isFeature=!0,u.keyword=t,u.type=f,u};this.GRAMMAR[f]=p,this.FEATURES[t]=p}addLeafExpression(t,o){this.LEAF_EXPRESSIONS.push(t),this.addGrammarElement(t,o)}addIndirectExpression(t,o){this.INDIRECT_EXPRESSIONS.push(t),this.addGrammarElement(t,o)}static createParserContext(t){var o=t.currentToken(),f=t.source,p=f.split(`
`),y=o&&o.line?o.line-1:p.length-1,h=p[y],v=o&&o.line?o.column:h.length-1;return h+`
`+" ".repeat(v)+`^^

`}static raiseParseError(t,o){o=(o||"Unexpected Token : "+t.currentToken().value)+`

`+k.createParserContext(t);var f=new Error(o);throw f.tokens=t,f}raiseParseError(t,o){k.raiseParseError(t,o)}parseHyperScript(t){var o=this.parseElement("hyperscript",t);if(t.hasMore()&&this.raiseParseError(t),o)return o}setParent(t,o){typeof t=="object"&&(t.parent=o,typeof o=="object"&&(o.children=o.children||new Set,o.children.add(t)),this.setParent(t.next,o))}commandStart(t){return this.COMMANDS[t.value||""]}featureStart(t){return this.FEATURES[t.value||""]}commandBoundary(t){return!!(t.value=="end"||t.value=="then"||t.value=="else"||t.value=="otherwise"||t.value==")"||this.commandStart(t)||this.featureStart(t)||t.type=="EOF")}parseStringTemplate(t){var o=[""];do if(o.push(t.lastWhitespace()),t.currentToken().value==="$"){t.consumeToken();var f=t.matchOpToken("{");o.push(this.requireElement("expression",t)),f&&t.requireOpToken("}"),o.push("")}else if(t.currentToken().value==="\\")t.consumeToken(),t.consumeToken();else{var p=t.consumeToken();o[o.length-1]+=p?p.value:""}while(t.hasMore());return o.push(t.lastWhitespace()),o}ensureTerminated(t){const o=this.runtime;for(var f={type:"implicitReturn",op:function(y){return y.meta.returned=!0,y.meta.resolve&&y.meta.resolve(),o.HALT},execute:function(y){}},p=t;p.next;)p=p.next;p.next=f}}const be=class be{constructor(t,o){ie(this,"HALT",be.HALT);ie(this,"_scriptAttrs",null);ie(this,"hyperscriptFeaturesMap",new WeakMap);ie(this,"internalDataMap",new WeakMap);ie(this,"hyperscriptUrl","document"in w&&document.currentScript?document.currentScript.src:null);this.lexer=t??new z,this.parser=o??new k(this).use(Be).use(je),this.parser.runtime=this}matchesSelector(t,o){var f=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;return f&&f.call(t,o)}makeEvent(t,o){var f;return w.Event&&typeof w.Event=="function"?(f=new Event(t,{bubbles:!0,cancelable:!0}),f.detail=o):(f=document.createEvent("CustomEvent"),f.initCustomEvent(t,!0,!0,o)),f}triggerEvent(t,o,f,p){f=f||{},f.sender=p;var y=this.makeEvent(o,f),h=t.dispatchEvent(y);return h}isArrayLike(t){return Array.isArray(t)||typeof NodeList<"u"&&(t instanceof NodeList||t instanceof HTMLCollection)}isIterable(t){return typeof t=="object"&&Symbol.iterator in t&&typeof t[Symbol.iterator]=="function"}shouldAutoIterate(t){return t!=null&&t[ne]||this.isArrayLike(t)}forEach(t,o){if(t!=null)if(this.isIterable(t))for(const p of t)o(p);else if(this.isArrayLike(t))for(var f=0;f<t.length;f++)o(t[f]);else o(t)}implicitLoop(t,o){if(this.shouldAutoIterate(t))for(const f of t)o(f);else o(t)}wrapArrays(t){for(var o=[],f=0;f<t.length;f++){var p=t[f];Array.isArray(p)?o.push(Promise.all(p)):o.push(p)}return o}unwrapAsyncs(t){for(var o=0;o<t.length;o++){var f=t[o];if(f.asyncWrapper&&(t[o]=f.value),Array.isArray(f))for(var p=0;p<f.length;p++){var y=f[p];y.asyncWrapper&&(f[p]=y.value)}}}unifiedExec(t,o){for(;;){try{var f=this.unifiedEval(t,o)}catch(p){if(o.meta.handlingFinally)console.error(" Exception in finally block: ",p),f=be.HALT;else if(this.registerHyperTrace(o,p),o.meta.errorHandler&&!o.meta.handlingError){o.meta.handlingError=!0,o.locals[o.meta.errorSymbol]=p,t=o.meta.errorHandler;continue}else o.meta.currentException=p,f=be.HALT}if(f==null){console.error(t," did not return a next element to execute! context: ",o);return}else if(f.then){f.then(p=>{this.unifiedExec(p,o)}).catch(p=>{this.unifiedExec({op:function(){throw p}},o)});return}else if(f===be.HALT)if(o.meta.finallyHandler&&!o.meta.handlingFinally)o.meta.handlingFinally=!0,t=o.meta.finallyHandler;else if(o.meta.onHalt&&o.meta.onHalt(),o.meta.currentException)if(o.meta.reject){o.meta.reject(o.meta.currentException);return}else throw o.meta.currentException;else return;else t=f}}unifiedEval(t,o){var f=[o],p=!1,y=!1;if(t.args)for(var h=0;h<t.args.length;h++){var v=t.args[h];if(v==null)f.push(null);else if(Array.isArray(v)){for(var u=[],b=0;b<v.length;b++){var q=v[b],N=q?q.evaluate(o):null;N&&(N.then?p=!0:N.asyncWrapper&&(y=!0)),u.push(N)}f.push(u)}else if(v.evaluate){var N=v.evaluate(o);N&&(N.then?p=!0:N.asyncWrapper&&(y=!0)),f.push(N)}else f.push(v)}return p?new Promise((A,L)=>{f=this.wrapArrays(f),Promise.all(f).then(function(R){y&&this.unwrapAsyncs(R);try{var F=t.op.apply(t,R);A(F)}catch(H){L(H)}}).catch(function(R){L(R)})}):(y&&this.unwrapAsyncs(f),t.op.apply(t,f))}getScriptAttributes(){return this._scriptAttrs==null&&(this._scriptAttrs=O.attributes.replace(/ /g,"").split(",")),this._scriptAttrs}getScript(t){for(var o=0;o<this.getScriptAttributes().length;o++){var f=this.getScriptAttributes()[o];if(t.hasAttribute&&t.hasAttribute(f))return t.getAttribute(f)}return t instanceof HTMLScriptElement&&t.type==="text/hyperscript"?t.innerText:null}getHyperscriptFeatures(t){var o=this.hyperscriptFeaturesMap.get(t);return typeof o>"u"&&t&&this.hyperscriptFeaturesMap.set(t,o={}),o}addFeatures(t,o){t&&(Object.assign(o.locals,this.getHyperscriptFeatures(t)),this.addFeatures(t.parentElement,o))}makeContext(t,o,f,p){return new Y(t,o,f,p,this)}getScriptSelector(){return this.getScriptAttributes().map(function(t){return"["+t+"]"}).join(", ")}convertValue(t,o){for(var f=C.dynamicResolvers,p=0;p<f.length;p++){var y=f[p],h=y(o,t);if(h!==void 0)return h}if(t==null)return null;var v=C[o];if(v)return v(t);throw"Unknown conversion : "+o}parse(t){const o=this.lexer,f=this.parser;var p=o.tokenize(t);if(this.parser.commandStart(p.currentToken())){var y=f.requireElement("commandList",p);return p.hasMore()&&f.raiseParseError(p),f.ensureTerminated(y),y}else if(f.featureStart(p.currentToken())){var h=f.requireElement("hyperscript",p);return p.hasMore()&&f.raiseParseError(p),h}else{var v=f.requireElement("expression",p);return p.hasMore()&&f.raiseParseError(p),v}}evaluateNoPromise(t,o){let f=t.evaluate(o);if(f.next)throw new Error(I.sourceFor.call(t)+" returned a Promise in a context that they are not allowed.");return f}evaluate(t,o,f){class p extends EventTarget{constructor(u){super(),this.module=u}toString(){return this.module.id}}var y="document"in w?w.document.body:new p(f&&f.module);o=Object.assign(this.makeContext(y,null,y,null),o||{});var h=this.parse(t);return h.execute?(h.execute(o),typeof o.meta.returnValue<"u"?o.meta.returnValue:o.result):h.apply?(h.apply(y,y,f),this.getHyperscriptFeatures(y)):h.evaluate(o)}processNode(t){var o=this.getScriptSelector();this.matchesSelector(t,o)&&this.initElement(t,t),t instanceof HTMLScriptElement&&t.type==="text/hyperscript"&&this.initElement(t,document.body),t.querySelectorAll&&this.forEach(t.querySelectorAll(o+", [type='text/hyperscript']"),f=>{this.initElement(f,f instanceof HTMLScriptElement&&f.type==="text/hyperscript"?document.body:f)})}initElement(t,o){if(!(t.closest&&t.closest(O.disableSelector))){var f=this.getInternalData(t);if(!f.initialized){var p=this.getScript(t);if(p)try{f.initialized=!0,f.script=p;const v=this.lexer,u=this.parser;var y=v.tokenize(p),h=u.parseHyperScript(y);if(!h)return;h.apply(o||t,t),setTimeout(()=>{this.triggerEvent(o||t,"load",{hyperscript:!0})},1)}catch(v){this.triggerEvent(t,"exception",{error:v}),console.error("hyperscript errors were found on the following element:",t,`

`,v.message,v.stack)}}}}getInternalData(t){var o=this.internalDataMap.get(t);return typeof o>"u"&&this.internalDataMap.set(t,o={}),o}typeCheck(t,o,f){if(t==null&&f)return!0;var p=Object.prototype.toString.call(t).slice(8,-1);return p===o}getElementScope(t){var o=t.meta&&t.meta.owner;if(o){var f=this.getInternalData(o),p="elementScope";t.meta.feature&&t.meta.feature.behavior&&(p=t.meta.feature.behavior+"Scope");var y=ee(f,p);return y}else return{}}isReservedWord(t){return["meta","it","result","locals","event","target","detail","sender","body"].includes(t)}isHyperscriptContext(t){return t instanceof Y}resolveSymbol(t,o,f){if(t==="me"||t==="my"||t==="I")return o.me;if(t==="it"||t==="its"||t==="result")return o.result;if(t==="you"||t==="your"||t==="yourself")return o.you;if(f==="global")return w[t];if(f==="element"){var p=this.getElementScope(o);return p[t]}else{if(f==="local")return o.locals[t];if(o.meta&&o.meta.context){var y=o.meta.context[t];if(typeof y<"u"||o.meta.context.detail&&(y=o.meta.context.detail[t],typeof y<"u"))return y}if(this.isHyperscriptContext(o)&&!this.isReservedWord(t))var h=o.locals[t];else var h=o[t];if(typeof h<"u")return h;var p=this.getElementScope(o);return h=p[t],typeof h<"u"?h:w[t]}}setSymbol(t,o,f,p){if(f==="global")w[t]=p;else if(f==="element"){var y=this.getElementScope(o);y[t]=p}else if(f==="local")o.locals[t]=p;else if(this.isHyperscriptContext(o)&&!this.isReservedWord(t)&&typeof o.locals[t]<"u")o.locals[t]=p;else{var y=this.getElementScope(o),h=y[t];typeof h<"u"?y[t]=p:this.isHyperscriptContext(o)&&!this.isReservedWord(t)?o.locals[t]=p:o[t]=p}}findNext(t,o){if(t)return t.resolveNext?t.resolveNext(o):t.next?t.next:this.findNext(t.parent,o)}flatGet(t,o,f){if(t!=null){var p=f(t,o);if(typeof p<"u")return p;if(this.shouldAutoIterate(t)){var y=[];for(var h of t){var v=f(h,o);y.push(v)}return y}}}resolveProperty(t,o){return this.flatGet(t,o,(f,p)=>f[p])}resolveAttribute(t,o){return this.flatGet(t,o,(f,p)=>f.getAttribute&&f.getAttribute(p))}resolveStyle(t,o){return this.flatGet(t,o,(f,p)=>f.style&&f.style[p])}resolveComputedStyle(t,o){return this.flatGet(t,o,(f,p)=>getComputedStyle(f).getPropertyValue(p))}assignToNamespace(t,o,f,p){let y;typeof document<"u"&&t===document.body?y=w:y=this.getHyperscriptFeatures(t);for(var h;(h=o.shift())!==void 0;){var v=y[h];v==null&&(v={},y[h]=v),y=v}y[f]=p}getHyperTrace(t,o){for(var f=[],p=t;p.meta.caller;)p=p.meta.caller;if(p.meta.traceMap)return p.meta.traceMap.get(o,f)}registerHyperTrace(t,o){for(var f=[],p=null;t!=null;)f.push(t),p=t,t=t.meta.caller;if(p.meta.traceMap==null&&(p.meta.traceMap=new Map),!p.meta.traceMap.get(o)){var y={trace:f,print:function(h){h=h||console.error,h("hypertrace /// ");for(var v=0,u=0;u<f.length;u++)v=Math.max(v,f[u].meta.feature.displayName.length);for(var u=0;u<f.length;u++){var b=f[u];h("  ->",b.meta.feature.displayName.padEnd(v+2),"-",b.meta.owner)}}};p.meta.traceMap.set(o,y)}}escapeSelector(t){return t.replace(/:/g,function(o){return"\\"+o})}nullCheck(t,o){if(t==null)throw new Error("'"+o.sourceFor()+"' is null")}isEmpty(t){return t==null||t.length===0}doesExist(t){if(t==null)return!1;if(this.shouldAutoIterate(t)){for(const o of t)return!0;return!1}return!0}getRootNode(t){if(t&&t instanceof Node){var o=t.getRootNode();if(o instanceof Document||o instanceof ShadowRoot)return o}return document}getEventQueueFor(t,o){let f=this.getInternalData(t);var p=f.eventQueues;p==null&&(p=new Map,f.eventQueues=p);var y=p.get(o);return y==null&&(y={queue:[],executing:!1},p.set(o,y)),y}beepValueToConsole(t,o,f){if(this.triggerEvent(t,"hyperscript:beep",{element:t,expression:o,value:f})){var p;f?f instanceof $?p="ElementCollection":f.constructor?p=f.constructor.name:p="unknown":p="object (null)";var y=f;p==="String"?y='"'+y+'"':f instanceof $&&(y=Array.from(f)),console.log("///_ BEEP! The expression ("+I.sourceFor.call(o).replace("beep! ","")+") evaluates to:",y,"of type "+p)}}};ie(be,"HALT",{});let M=be;function P(){return document.cookie.split("; ").map(t=>{let o=t.split("=");return{name:o[0],value:decodeURIComponent(o[1])}})}function Q(E){document.cookie=E+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}function B(){for(const E of P())Q(E.name)}const V=new Proxy({},{get(E,t){var o;if(t==="then"||t==="asyncWrapper")return null;if(t==="length")return P().length;if(t==="clear")return Q;if(t==="clearAll")return B;if(typeof t=="string")if(isNaN(t)){let f=(o=document.cookie.split("; ").find(p=>p.startsWith(t+"=")))==null?void 0:o.split("=")[1];if(f)return decodeURIComponent(f)}else return P()[parseInt(t)];else if(t===Symbol.iterator)return P()[t]},set(E,t,o){var f=null;return typeof o=="string"?(f=encodeURIComponent(o),f+=";samesite=lax"):(f=encodeURIComponent(o.value),o.expires&&(f+=";expires="+o.maxAge),o.maxAge&&(f+=";max-age="+o.maxAge),o.partitioned&&(f+=";partitioned="+o.partitioned),o.path&&(f+=";path="+o.path),o.samesite&&(f+=";samesite="+o.path),o.secure&&(f+=";secure="+o.path)),document.cookie=t+"="+f,!0}});class Y{constructor(t,o,f,p,y){this.meta={parser:y.parser,lexer:y.lexer,runtime:y,owner:t,feature:o,iterators:{},ctx:this},this.locals={cookies:V},this.me=f,this.you=void 0,this.result=void 0,this.event=p,this.target=p?p.target:null,this.detail=p?p.detail:null,this.sender=p&&p.detail?p.detail.sender:null,this.body="document"in w?document.body:null,y.addFeatures(t,this)}}class ${constructor(t,o,f){this._css=t,this.relativeToElement=o,this.escape=f,this[ne]=!0}get css(){return this.escape?M.prototype.escapeSelector(this._css):this._css}get className(){return this._css.substr(1)}get id(){return this.className()}contains(t){for(let o of this)if(o.contains(t))return!0;return!1}get length(){return this.selectMatches().length}[Symbol.iterator](){return this.selectMatches()[Symbol.iterator]()}selectMatches(){return M.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css)}}const ne=Symbol();function ee(E,t){var o=E[t];if(o)return o;var f={};return E[t]=f,f}function he(E){try{return JSON.parse(E)}catch(t){return Ie(t),null}}function Ie(E){console.error?console.error(E):console.log&&console.log("ERROR: ",E)}function Re(E,t){return new(E.bind.apply(E,[E].concat(t)))}function Be(E){E.addLeafExpression("parenthesized",function(r,a,e){if(e.matchOpToken("(")){var n=e.clearFollows();try{var l=r.requireElement("expression",e)}finally{e.restoreFollows(n)}return e.requireOpToken(")"),l}}),E.addLeafExpression("string",function(r,a,e){var n=e.matchTokenType("STRING");if(n){var l=n.value,s;if(n.template){var i=z.tokenize(l,!0);s=r.parseStringTemplate(i)}else s=[];return{type:"string",token:n,args:s,op:function(c){for(var m="",d=1;d<arguments.length;d++){var T=arguments[d];T!==void 0&&(m+=T)}return m},evaluate:function(c){return s.length===0?l:a.unifiedEval(this,c)}}}}),E.addGrammarElement("nakedString",function(r,a,e){if(e.hasMore()){var n=e.consumeUntilWhitespace();return e.matchTokenType("WHITESPACE"),{type:"nakedString",tokens:n,evaluate:function(l){return n.map(function(s){return s.value}).join("")}}}}),E.addLeafExpression("number",function(r,a,e){var n=e.matchTokenType("NUMBER");if(n){var l=n,s=parseFloat(n.value);return{type:"number",value:s,numberToken:l,evaluate:function(){return s}}}}),E.addLeafExpression("idRef",function(r,a,e){var n=e.matchTokenType("ID_REF");if(n&&n.value)if(n.template){var l=n.value.substring(2),s=z.tokenize(l),i=r.requireElement("expression",s);return{type:"idRefTemplate",args:[i],op:function(c,m){return a.getRootNode(c.me).getElementById(m)},evaluate:function(c){return a.unifiedEval(this,c)}}}else{const c=n.value.substring(1);return{type:"idRef",css:n.value,value:c,evaluate:function(m){return a.getRootNode(m.me).getElementById(c)}}}}),E.addLeafExpression("classRef",function(r,a,e){var n=e.matchTokenType("CLASS_REF");if(n&&n.value)if(n.template){var l=n.value.substring(2),s=z.tokenize(l),i=r.requireElement("expression",s);return{type:"classRefTemplate",args:[i],op:function(c,m){return new $("."+m,c.me,!0)},evaluate:function(c){return a.unifiedEval(this,c)}}}else{const c=n.value;return{type:"classRef",css:c,evaluate:function(m){return new $(c,m.me,!0)}}}});class t extends ${constructor(a,e,n){super(a,e),this.templateParts=n,this.elements=n.filter(l=>l instanceof Element)}get css(){let a="",e=0;for(const n of this.templateParts)n instanceof Element?a+="[data-hs-query-id='"+e+++"']":a+=n;return a}[Symbol.iterator](){this.elements.forEach((e,n)=>e.dataset.hsQueryId=n);const a=super[Symbol.iterator]();return this.elements.forEach(e=>e.removeAttribute("data-hs-query-id")),a}}E.addLeafExpression("queryRef",function(r,a,e){var n=e.matchOpToken("<");if(n){var l=e.consumeUntil("/");e.requireOpToken("/"),e.requireOpToken(">");var s=l.map(function(d){return d.type==="STRING"?'"'+d.value+'"':d.value}).join(""),i,c,m;return s.indexOf("$")>=0&&(i=!0,c=z.tokenize(s,!0),m=r.parseStringTemplate(c)),{type:"queryRef",css:s,args:m,op:function(d,...T){return i?new t(s,d.me,T):new $(s,d.me)},evaluate:function(d){return a.unifiedEval(this,d)}}}}),E.addLeafExpression("attributeRef",function(r,a,e){var n=e.matchTokenType("ATTRIBUTE_REF");if(n&&n.value){var l=n.value;if(l.indexOf("[")===0)var s=l.substring(2,l.length-1);else var s=l.substring(1);var i="["+s+"]",c=s.split("="),m=c[0],d=c[1];return d&&d.indexOf('"')===0&&(d=d.substring(1,d.length-1)),{type:"attributeRef",name:m,css:i,value:d,op:function(T){var S=T.you||T.me;if(S)return S.getAttribute(m)},evaluate:function(T){return a.unifiedEval(this,T)}}}}),E.addLeafExpression("styleRef",function(r,a,e){var n=e.matchTokenType("STYLE_REF");if(n&&n.value){var l=n.value.substr(1);return l.startsWith("computed-")?(l=l.substr(9),{type:"computedStyleRef",name:l,op:function(s){var i=s.you||s.me;if(i)return a.resolveComputedStyle(i,l)},evaluate:function(s){return a.unifiedEval(this,s)}}):{type:"styleRef",name:l,op:function(s){var i=s.you||s.me;if(i)return a.resolveStyle(i,l)},evaluate:function(s){return a.unifiedEval(this,s)}}}}),E.addGrammarElement("objectKey",function(r,a,e){var n;if(n=e.matchTokenType("STRING"))return{type:"objectKey",key:n.value,evaluate:function(){return n.value}};if(e.matchOpToken("[")){var l=r.parseElement("expression",e);return e.requireOpToken("]"),{type:"objectKey",expr:l,args:[l],op:function(i,c){return c},evaluate:function(i){return a.unifiedEval(this,i)}}}else{var s="";do n=e.matchTokenType("IDENTIFIER")||e.matchOpToken("-"),n&&(s+=n.value);while(n);return{type:"objectKey",key:s,evaluate:function(){return s}}}}),E.addLeafExpression("objectLiteral",function(r,a,e){if(e.matchOpToken("{")){var n=[],l=[];if(!e.matchOpToken("}")){do{var s=r.requireElement("objectKey",e);e.requireOpToken(":");var i=r.requireElement("expression",e);l.push(i),n.push(s)}while(e.matchOpToken(","));e.requireOpToken("}")}return{type:"objectLiteral",args:[n,l],op:function(c,m,d){for(var T={},S=0;S<m.length;S++)T[m[S]]=d[S];return T},evaluate:function(c){return a.unifiedEval(this,c)}}}}),E.addGrammarElement("nakedNamedArgumentList",function(r,a,e){var n=[],l=[];if(e.currentToken().type==="IDENTIFIER")do{var s=e.requireTokenType("IDENTIFIER");e.requireOpToken(":");var i=r.requireElement("expression",e);l.push(i),n.push({name:s,value:i})}while(e.matchOpToken(","));return{type:"namedArgumentList",fields:n,args:[l],op:function(c,m){for(var d={_namedArgList_:!0},T=0;T<m.length;T++){var S=n[T];d[S.name.value]=m[T]}return d},evaluate:function(c){return a.unifiedEval(this,c)}}}),E.addGrammarElement("namedArgumentList",function(r,a,e){if(e.matchOpToken("(")){var n=r.requireElement("nakedNamedArgumentList",e);return e.requireOpToken(")"),n}}),E.addGrammarElement("symbol",function(r,a,e){var n="default";e.matchToken("global")?n="global":e.matchToken("element")||e.matchToken("module")?(n="element",e.matchOpToken("'")&&e.requireToken("s")):e.matchToken("local")&&(n="local");let l=e.matchOpToken(":"),s=e.matchTokenType("IDENTIFIER");if(s&&s.value){var i=s.value;return l&&(i=":"+i),n==="default"&&(i.indexOf("$")===0&&(n="global"),i.indexOf(":")===0&&(n="element")),{type:"symbol",token:s,scope:n,name:i,evaluate:function(c){return a.resolveSymbol(i,c,n)}}}}),E.addGrammarElement("implicitMeTarget",function(r,a,e){return{type:"implicitMeTarget",evaluate:function(n){return n.you||n.me}}}),E.addLeafExpression("boolean",function(r,a,e){var n=e.matchToken("true")||e.matchToken("false");if(!n)return;const l=n.value==="true";return{type:"boolean",evaluate:function(s){return l}}}),E.addLeafExpression("null",function(r,a,e){if(e.matchToken("null"))return{type:"null",evaluate:function(n){return null}}}),E.addLeafExpression("arrayLiteral",function(r,a,e){if(e.matchOpToken("[")){var n=[];if(!e.matchOpToken("]")){do{var l=r.requireElement("expression",e);n.push(l)}while(e.matchOpToken(","));e.requireOpToken("]")}return{type:"arrayLiteral",values:n,args:[n],op:function(s,i){return i},evaluate:function(s){return a.unifiedEval(this,s)}}}}),E.addLeafExpression("blockLiteral",function(r,a,e){if(e.matchOpToken("\\")){var n=[],l=e.matchTokenType("IDENTIFIER");if(l)for(n.push(l);e.matchOpToken(",");)n.push(e.requireTokenType("IDENTIFIER"));e.requireOpToken("-"),e.requireOpToken(">");var s=r.requireElement("expression",e);return{type:"blockLiteral",args:n,expr:s,evaluate:function(i){var c=function(){for(var m=0;m<n.length;m++)i.locals[n[m].value]=arguments[m];return s.evaluate(i)};return c}}}}),E.addIndirectExpression("propertyAccess",function(r,a,e,n){if(e.matchOpToken(".")){var l=e.requireTokenType("IDENTIFIER"),s={type:"propertyAccess",root:n,prop:l,args:[n],op:function(i,c){var m=a.resolveProperty(c,l.value);return m},evaluate:function(i){return a.unifiedEval(this,i)}};return r.parseElement("indirectExpression",e,s)}}),E.addIndirectExpression("of",function(r,a,e,n){if(e.matchToken("of")){for(var l=r.requireElement("unaryExpression",e),s=null,i=n;i.root;)s=i,i=i.root;i.type!=="symbol"&&i.type!=="attributeRef"&&i.type!=="styleRef"&&i.type!=="computedStyleRef"&&r.raiseParseError(e,"Cannot take a property of a non-symbol: "+i.type);var c=i.type==="attributeRef",m=i.type==="styleRef"||i.type==="computedStyleRef";if(c||m)var d=i;var T=i.name,S={type:"ofExpression",prop:i.token,root:l,attribute:d,expression:n,args:[l],op:function(x,g){return c?a.resolveAttribute(g,T):m?i.type==="computedStyleRef"?a.resolveComputedStyle(g,T):a.resolveStyle(g,T):a.resolveProperty(g,T)},evaluate:function(x){return a.unifiedEval(this,x)}};return i.type==="attributeRef"&&(S.attribute=i),s?(s.root=S,s.args=[S]):n=S,r.parseElement("indirectExpression",e,n)}}),E.addIndirectExpression("possessive",function(r,a,e,n){if(!r.possessivesDisabled){var l=e.matchOpToken("'");if(l||n.type==="symbol"&&(n.name==="my"||n.name==="its"||n.name==="your")&&(e.currentToken().type==="IDENTIFIER"||e.currentToken().type==="ATTRIBUTE_REF"||e.currentToken().type==="STYLE_REF")){l&&e.requireToken("s");var s,i,c;s=r.parseElement("attributeRef",e),s==null&&(i=r.parseElement("styleRef",e),i==null&&(c=e.requireTokenType("IDENTIFIER")));var m={type:"possessive",root:n,attribute:s||i,prop:c,args:[n],op:function(d,T){if(s)var S=a.resolveAttribute(T,s.name);else if(i){var S;i.type==="computedStyleRef"?S=a.resolveComputedStyle(T,i.name):S=a.resolveStyle(T,i.name)}else var S=a.resolveProperty(T,c.value);return S},evaluate:function(d){return a.unifiedEval(this,d)}};return r.parseElement("indirectExpression",e,m)}}}),E.addIndirectExpression("inExpression",function(r,a,e,n){if(e.matchToken("in")){var l=r.requireElement("unaryExpression",e),s={type:"inExpression",root:n,args:[n,l],op:function(i,c,m){var d=[];if(c.css)a.implicitLoop(m,function(S){for(var x=S.querySelectorAll(c.css),g=0;g<x.length;g++)d.push(x[g])});else if(c instanceof Element){var T=!1;if(a.implicitLoop(m,function(S){S.contains(c)&&(T=!0)}),T)return c}else a.implicitLoop(c,function(S){a.implicitLoop(m,function(x){S===x&&d.push(S)})});return d},evaluate:function(i){return a.unifiedEval(this,i)}};return r.parseElement("indirectExpression",e,s)}}),E.addIndirectExpression("asExpression",function(r,a,e,n){if(e.matchToken("as")){e.matchToken("a")||e.matchToken("an");var l=r.requireElement("dotOrColonPath",e).evaluate(),s={type:"asExpression",root:n,args:[n],op:function(i,c){return a.convertValue(c,l)},evaluate:function(i){return a.unifiedEval(this,i)}};return r.parseElement("indirectExpression",e,s)}}),E.addIndirectExpression("functionCall",function(r,a,e,n){if(e.matchOpToken("(")){var l=[];if(!e.matchOpToken(")")){do l.push(r.requireElement("expression",e));while(e.matchOpToken(","));e.requireOpToken(")")}if(n.root)var s={type:"functionCall",root:n,argExressions:l,args:[n.root,l],op:function(i,c,m){a.nullCheck(c,n.root);var d=c[n.prop.value];return a.nullCheck(d,n),d.hyperfunc&&m.push(i),d.apply(c,m)},evaluate:function(i){return a.unifiedEval(this,i)}};else var s={type:"functionCall",root:n,argExressions:l,args:[n,l],op:function(c,m,d){a.nullCheck(m,n),m.hyperfunc&&d.push(c);var T=m.apply(null,d);return T},evaluate:function(c){return a.unifiedEval(this,c)}};return r.parseElement("indirectExpression",e,s)}}),E.addIndirectExpression("attributeRefAccess",function(r,a,e,n){var l=r.parseElement("attributeRef",e);if(l){var s={type:"attributeRefAccess",root:n,attribute:l,args:[n],op:function(i,c){var m=a.resolveAttribute(c,l.name);return m},evaluate:function(i){return a.unifiedEval(this,i)}};return s}}),E.addIndirectExpression("arrayIndex",function(r,a,e,n){if(e.matchOpToken("[")){var l=!1,s=!1,i=null,c=null;if(e.matchOpToken(".."))l=!0,i=r.requireElement("expression",e);else if(i=r.requireElement("expression",e),e.matchOpToken("..")){s=!0;var m=e.currentToken();m.type!=="R_BRACKET"&&(c=r.parseElement("expression",e))}e.requireOpToken("]");var d={type:"arrayIndex",root:n,prop:i,firstIndex:i,secondIndex:c,args:[n,i,c],op:function(T,S,x,g){return S==null?null:l?(x<0&&(x=S.length+x),S.slice(0,x+1)):s?g!=null?(g<0&&(g=S.length+g),S.slice(x,g+1)):S.slice(x):S[x]},evaluate:function(T){return a.unifiedEval(this,T)}};return r.parseElement("indirectExpression",e,d)}});var o=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];E.addGrammarElement("postfixExpression",function(r,a,e){var n=r.parseElement("primaryExpression",e);let l=e.matchAnyToken.apply(e,o)||e.matchOpToken("%");if(l)return{type:"stringPostfix",postfix:l.value,args:[n],op:function(m,d){return""+d+l.value},evaluate:function(m){return a.unifiedEval(this,m)}};var s=null;if(e.matchToken("s")||e.matchToken("seconds")?s=1e3:(e.matchToken("ms")||e.matchToken("milliseconds"))&&(s=1),s)return{type:"timeExpression",time:n,factor:s,args:[n],op:function(m,d){return d*s},evaluate:function(m){return a.unifiedEval(this,m)}};if(e.matchOpToken(":")){var i=e.requireTokenType("IDENTIFIER");if(!i.value)return;var c=!e.matchOpToken("!");return{type:"typeCheck",typeName:i,nullOk:c,args:[n],op:function(m,d){var T=a.typeCheck(d,this.typeName.value,c);if(T)return d;throw new Error("Typecheck failed!  Expected: "+i.value)},evaluate:function(m){return a.unifiedEval(this,m)}}}else return n}),E.addGrammarElement("logicalNot",function(r,a,e){if(e.matchToken("not")){var n=r.requireElement("unaryExpression",e);return{type:"logicalNot",root:n,args:[n],op:function(l,s){return!s},evaluate:function(l){return a.unifiedEval(this,l)}}}}),E.addGrammarElement("noExpression",function(r,a,e){if(e.matchToken("no")){var n=r.requireElement("unaryExpression",e);return{type:"noExpression",root:n,args:[n],op:function(l,s){return a.isEmpty(s)},evaluate:function(l){return a.unifiedEval(this,l)}}}}),E.addLeafExpression("some",function(r,a,e){if(e.matchToken("some")){var n=r.requireElement("expression",e);return{type:"noExpression",root:n,args:[n],op:function(l,s){return!a.isEmpty(s)},evaluate(l){return a.unifiedEval(this,l)}}}}),E.addGrammarElement("negativeNumber",function(r,a,e){if(e.matchOpToken("-")){var n=r.requireElement("unaryExpression",e);return{type:"negativeNumber",root:n,args:[n],op:function(l,s){return-1*s},evaluate:function(l){return a.unifiedEval(this,l)}}}}),E.addGrammarElement("unaryExpression",function(r,a,e){return e.matchToken("the"),r.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","negativeNumber","postfixExpression"],e)}),E.addGrammarElement("beepExpression",function(r,a,e){if(e.matchToken("beep!")){var n=r.parseElement("unaryExpression",e);if(n){n.booped=!0;var l=n.evaluate;return n.evaluate=function(s){let i=l.apply(n,arguments),c=s.me;return a.beepValueToConsole(c,n,i),i},n}}});var f=function(r,a,e,n){for(var l=a.querySelectorAll(e),s=0;s<l.length;s++){var i=l[s];if(i.compareDocumentPosition(r)===Node.DOCUMENT_POSITION_PRECEDING)return i}if(n)return l[0]},p=function(r,a,e,n){for(var l=a.querySelectorAll(e),s=l.length-1;s>=0;s--){var i=l[s];if(i.compareDocumentPosition(r)===Node.DOCUMENT_POSITION_FOLLOWING)return i}if(n)return l[l.length-1]},y=function(r,a,e,n){var l=[];M.prototype.forEach(a,function(m){(m.matches(e)||m===r)&&l.push(m)});for(var s=0;s<l.length-1;s++){var i=l[s];if(i===r)return l[s+1]}if(n){var c=l[0];if(c&&c.matches(e))return c}},h=function(r,a,e,n){return y(r,Array.from(a).reverse(),e,n)};E.addGrammarElement("relativePositionalExpression",function(r,a,e){var n=e.matchAnyToken("next","previous");if(n){var l=n.value==="next",s=r.parseElement("expression",e);if(e.matchToken("from")){e.pushFollow("in");try{var i=r.requireElement("unaryExpression",e)}finally{e.popFollow()}}else var i=r.requireElement("implicitMeTarget",e);var c=!1,m;if(e.matchToken("in")){c=!0;var d=r.requireElement("unaryExpression",e)}else e.matchToken("within")?m=r.requireElement("unaryExpression",e):m=document.body;var T=!1;return e.matchToken("with")&&(e.requireToken("wrapping"),T=!0),{type:"relativePositionalExpression",from:i,forwardSearch:l,inSearch:c,wrapping:T,inElt:d,withinElt:m,operator:n.value,args:[s,i,d,m],op:function(S,x,g,_,U){var D=x.css;if(D==null)throw"Expected a CSS value to be returned by "+I.sourceFor.apply(s);if(c){if(_)return l?y(g,_,D,T):h(g,_,D,T)}else if(U)return l?f(g,U,D,T):p(g,U,D,T)},evaluate:function(S){return a.unifiedEval(this,S)}}}}),E.addGrammarElement("positionalExpression",function(r,a,e){var n=e.matchAnyToken("first","last","random");if(!n)return;e.matchAnyToken("in","from","of");var l=r.requireElement("unaryExpression",e);const s=n.value;return{type:"positionalExpression",rhs:l,operator:n.value,args:[l],op:function(i,c){if(c&&!Array.isArray(c)&&(c.children?c=c.children:c=Array.from(c)),c){if(s==="first")return c[0];if(s==="last")return c[c.length-1];if(s==="random")return c[Math.floor(Math.random()*c.length)]}},evaluate:function(i){return a.unifiedEval(this,i)}}}),E.addGrammarElement("mathOperator",function(r,a,e){var n=r.parseElement("unaryExpression",e),l,s=null;for(l=e.matchAnyOpToken("+","-","*","/")||e.matchToken("mod");l;){s=s||l;var i=l.value;s.value!==i&&r.raiseParseError(e,"You must parenthesize math operations with different operators");var c=r.parseElement("unaryExpression",e);n={type:"mathOperator",lhs:n,rhs:c,operator:i,args:[n,c],op:function(m,d,T){if(i==="+")return d+T;if(i==="-")return d-T;if(i==="*")return d*T;if(i==="/")return d/T;if(i==="mod")return d%T},evaluate:function(m){return a.unifiedEval(this,m)}},l=e.matchAnyOpToken("+","-","*","/")||e.matchToken("mod")}return n}),E.addGrammarElement("mathExpression",function(r,a,e){return r.parseAnyOf(["mathOperator","unaryExpression"],e)});function v(r,a,e){if(a.contains)return a.contains(e);if(a.includes)return a.includes(e);throw Error("The value of "+r.sourceFor()+" does not have a contains or includes method on it")}function u(r,a,e){if(a.match)return!!a.match(e);if(a.matches)return a.matches(e);throw Error("The value of "+r.sourceFor()+" does not have a match or matches method on it")}E.addGrammarElement("comparisonOperator",function(r,a,e){var n=r.parseElement("mathExpression",e),l=e.matchAnyOpToken("<",">","<=",">=","==","===","!=","!=="),s=l?l.value:null,i=!0,c=!1;if(s==null&&(e.matchToken("is")||e.matchToken("am")?e.matchToken("not")?e.matchToken("in")?s="not in":e.matchToken("a")?(s="not a",c=!0):e.matchToken("empty")?(s="not empty",i=!1):(e.matchToken("really")?s="!==":s="!=",e.matchToken("equal")&&e.matchToken("to")):e.matchToken("in")?s="in":e.matchToken("a")?(s="a",c=!0):e.matchToken("empty")?(s="empty",i=!1):e.matchToken("less")?(e.requireToken("than"),e.matchToken("or")?(e.requireToken("equal"),e.requireToken("to"),s="<="):s="<"):e.matchToken("greater")?(e.requireToken("than"),e.matchToken("or")?(e.requireToken("equal"),e.requireToken("to"),s=">="):s=">"):(e.matchToken("really")?s="===":s="==",e.matchToken("equal")&&e.matchToken("to")):e.matchToken("equals")?s="==":e.matchToken("really")?(e.requireToken("equals"),s="==="):e.matchToken("exist")||e.matchToken("exists")?(s="exist",i=!1):e.matchToken("matches")||e.matchToken("match")?s="match":e.matchToken("contains")||e.matchToken("contain")?s="contain":e.matchToken("includes")||e.matchToken("include")?s="include":(e.matchToken("do")||e.matchToken("does"))&&(e.requireToken("not"),e.matchToken("matches")||e.matchToken("match")?s="not match":e.matchToken("contains")||e.matchToken("contain")?s="not contain":e.matchToken("exist")||e.matchToken("exist")?(s="not exist",i=!1):e.matchToken("include")?s="not include":r.raiseParseError(e,"Expected matches or contains"))),s){var m,d,T;c?(m=e.requireTokenType("IDENTIFIER"),d=!e.matchOpToken("!")):i&&(T=r.requireElement("mathExpression",e),(s==="match"||s==="not match")&&(T=T.css?T.css:T));var S=n;n={type:"comparisonOperator",operator:s,typeName:m,nullOk:d,lhs:n,rhs:T,args:[n,T],op:function(x,g,_){if(s==="==")return g==_;if(s==="!=")return g!=_;if(s==="===")return g===_;if(s==="!==")return g!==_;if(s==="match")return g!=null&&u(S,g,_);if(s==="not match")return g==null||!u(S,g,_);if(s==="in")return _!=null&&v(T,_,g);if(s==="not in")return _==null||!v(T,_,g);if(s==="contain")return g!=null&&v(S,g,_);if(s==="not contain")return g==null||!v(S,g,_);if(s==="include")return g!=null&&v(S,g,_);if(s==="not include")return g==null||!v(S,g,_);if(s==="===")return g===_;if(s==="!==")return g!==_;if(s==="<")return g<_;if(s===">")return g>_;if(s==="<=")return g<=_;if(s===">=")return g>=_;if(s==="empty")return a.isEmpty(g);if(s==="not empty")return!a.isEmpty(g);if(s==="exist")return a.doesExist(g);if(s==="not exist")return!a.doesExist(g);if(s==="a")return a.typeCheck(g,m.value,d);if(s==="not a")return!a.typeCheck(g,m.value,d);throw"Unknown comparison : "+s},evaluate:function(x){return a.unifiedEval(this,x)}}}return n}),E.addGrammarElement("comparisonExpression",function(r,a,e){return r.parseAnyOf(["comparisonOperator","mathExpression"],e)}),E.addGrammarElement("logicalOperator",function(r,a,e){var n=r.parseElement("comparisonExpression",e),l,s=null;for(l=e.matchToken("and")||e.matchToken("or");l;){s=s||l,s.value!==l.value&&r.raiseParseError(e,"You must parenthesize logical operations with different operators");var i=r.requireElement("comparisonExpression",e);const c=l.value;n={type:"logicalOperator",operator:c,lhs:n,rhs:i,args:[n,i],op:function(m,d,T){return c==="and"?d&&T:d||T},evaluate:function(m){return a.unifiedEval(this,m)}},l=e.matchToken("and")||e.matchToken("or")}return n}),E.addGrammarElement("logicalExpression",function(r,a,e){return r.parseAnyOf(["logicalOperator","mathExpression"],e)}),E.addGrammarElement("asyncExpression",function(r,a,e){if(e.matchToken("async")){var n=r.requireElement("logicalExpression",e),l={type:"asyncExpression",value:n,evaluate:function(s){return{asyncWrapper:!0,value:this.value.evaluate(s)}}};return l}else return r.parseElement("logicalExpression",e)}),E.addGrammarElement("expression",function(r,a,e){return e.matchToken("the"),r.parseElement("asyncExpression",e)}),E.addGrammarElement("assignableExpression",function(r,a,e){e.matchToken("the");var n=r.parseElement("primaryExpression",e);return n&&(n.type==="symbol"||n.type==="ofExpression"||n.type==="propertyAccess"||n.type==="attributeRefAccess"||n.type==="attributeRef"||n.type==="styleRef"||n.type==="arrayIndex"||n.type==="possessive")||r.raiseParseError(e,"A target expression must be writable.  The expression type '"+(n&&n.type)+"' is not."),n}),E.addGrammarElement("hyperscript",function(r,a,e){var n=[];if(e.hasMore())for(;r.featureStart(e.currentToken())||e.currentToken().value==="(";){var l=r.requireElement("feature",e);n.push(l),e.matchToken("end")}return{type:"hyperscript",features:n,apply:function(s,i,c){for(const m of n)m.install(s,i,c)}}});var b=function(r){var a=[];if(r.token(0).value==="("&&(r.token(1).value===")"||r.token(2).value===","||r.token(2).value===")")){r.matchOpToken("(");do a.push(r.requireTokenType("IDENTIFIER"));while(r.matchOpToken(","));r.requireOpToken(")")}return a};E.addFeature("on",function(r,a,e){if(e.matchToken("on")){var n=!1;e.matchToken("every")&&(n=!0);var l=[],s=null;do{var i=r.requireElement("eventName",e,"Expected event name"),c=i.evaluate();s?s=s+" or "+c:s="on "+c;var m=b(e),d=null;e.matchOpToken("[")&&(d=r.requireElement("expression",e),e.requireOpToken("]"));var T,S,x;if(e.currentToken().type==="NUMBER"){var g=e.consumeToken();if(!g.value)return;if(T=parseInt(g.value),e.matchToken("to")){var _=e.consumeToken();if(!_.value)return;S=parseInt(_.value)}else e.matchToken("and")&&(x=!0,e.requireToken("on"))}var U,D;if(c==="intersection"){if(U={},e.matchToken("with")&&(U.with=r.requireElement("expression",e).evaluate()),e.matchToken("having"))do e.matchToken("margin")?U.rootMargin=r.requireElement("stringLike",e).evaluate():e.matchToken("threshold")?U.threshold=r.requireElement("expression",e).evaluate():r.raiseParseError(e,"Unknown intersection config specification");while(e.matchToken("and"))}else if(c==="mutation")if(D={},e.matchToken("of"))do if(e.matchToken("anything"))D.attributes=!0,D.subtree=!0,D.characterData=!0,D.childList=!0;else if(e.matchToken("childList"))D.childList=!0;else if(e.matchToken("attributes"))D.attributes=!0,D.attributeOldValue=!0;else if(e.matchToken("subtree"))D.subtree=!0;else if(e.matchToken("characterData"))D.characterData=!0,D.characterDataOldValue=!0;else if(e.currentToken().type==="ATTRIBUTE_REF"){var Z=e.consumeToken();D.attributeFilter==null&&(D.attributeFilter=[]),Z.value.indexOf("@")==0?D.attributeFilter.push(Z.value.substring(1)):r.raiseParseError(e,"Only shorthand attribute references are allowed here")}else r.raiseParseError(e,"Unknown mutation config specification");while(e.matchToken("or"));else D.attributes=!0,D.characterData=!0,D.childList=!0;var J=null,ue=!1;if(e.matchToken("from"))if(e.matchToken("elsewhere"))ue=!0;else{e.pushFollow("or");try{J=r.requireElement("expression",e)}finally{e.popFollow()}J||r.raiseParseError(e,'Expected either target value or "elsewhere".')}if(J===null&&ue===!1&&e.matchToken("elsewhere")&&(ue=!0),e.matchToken("in"))var me=r.parseElement("unaryExpression",e);if(e.matchToken("debounced")){e.requireToken("at");var X=r.requireElement("unaryExpression",e),se=X.evaluate({})}else if(e.matchToken("throttled")){e.requireToken("at");var X=r.requireElement("unaryExpression",e),ve=X.evaluate({})}l.push({execCount:0,every:n,on:c,args:m,filter:d,from:J,inExpr:me,elsewhere:ue,startCount:T,endCount:S,unbounded:x,debounceTime:se,throttleTime:ve,mutationSpec:D,intersectionSpec:U,debounced:void 0,lastExec:void 0})}while(e.matchToken("or"));var le=!0;if(!n&&e.matchToken("queue"))if(e.matchToken("all"))var le=!1;else if(e.matchToken("first"))var pe=!0;else if(e.matchToken("none"))var Se=!0;else e.requireToken("last");var Te=r.requireElement("commandList",e);r.ensureTerminated(Te);var Ue,_e;if(e.matchToken("catch")&&(Ue=e.requireTokenType("IDENTIFIER").value,_e=r.requireElement("commandList",e),r.ensureTerminated(_e)),e.matchToken("finally")){var Ye=r.requireElement("commandList",e);r.ensureTerminated(Ye)}var Ee={displayName:s,events:l,start:Te,every:n,execCount:0,errorHandler:_e,errorSymbol:Ue,execute:function(re){let ke=a.getEventQueueFor(re.me,Ee);if(ke.executing&&n===!1){if(Se||pe&&ke.queue.length>0)return;le&&(ke.queue.length=0),ke.queue.push(re);return}Ee.execCount++,ke.executing=!0,re.meta.onHalt=function(){ke.executing=!1;var ce=ke.queue.shift();ce&&setTimeout(function(){Ee.execute(ce)},1)},re.meta.reject=function(ce){console.error(ce.message?ce.message:ce);var K=a.getHyperTrace(re,ce);K&&K.print(),a.triggerEvent(re.me,"exception",{error:ce})},Te.execute(re)},install:function(re,ke){for(const K of Ee.events){var ce;K.elsewhere?ce=[document]:K.from?ce=K.from.evaluate(a.makeContext(re,Ee,re,null)):ce=[re],a.implicitLoop(ce,function(ye){var Ce=K.on;if(ye==null){console.warn("'%s' feature ignored because target does not exists:",s,re);return}if(K.mutationSpec&&(Ce="hyperscript:mutation",new MutationObserver(function(we,te){Ee.executing||a.triggerEvent(ye,Ce,{mutationList:we,observer:te})}).observe(ye,K.mutationSpec)),K.intersectionSpec){Ce="hyperscript:intersection";const Ne=new IntersectionObserver(function(we){for(const Pe of we){var te={observer:Ne};te=Object.assign(te,Pe),te.intersecting=Pe.isIntersecting,a.triggerEvent(ye,Ce,te)}},K.intersectionSpec);Ne.observe(ye)}var ot=ye.addEventListener||ye.on;ot.call(ye,Ce,function Ne(we){if(typeof Node<"u"&&re instanceof Node&&ye!==re&&!re.isConnected){ye.removeEventListener(Ce,Ne);return}var te=a.makeContext(re,Ee,re,we);if(!(K.elsewhere&&re.contains(we.target))){K.from&&(te.result=ye);for(const Fe of K.args){let Je=te.event[Fe.value];Je!==void 0?te.locals[Fe.value]=Je:"detail"in te.event&&(te.locals[Fe.value]=te.event.detail[Fe.value])}if(te.meta.errorHandler=_e,te.meta.errorSymbol=Ue,te.meta.finallyHandler=Ye,K.filter){var Pe=te.meta.context;te.meta.context=te.event;try{var st=K.filter.evaluate(te);if(!st)return}finally{te.meta.context=Pe}}if(K.inExpr){for(var qe=we.target;;)if(qe.matches&&qe.matches(K.inExpr.css)){te.result=qe;break}else if(qe=qe.parentElement,qe==null)return}if(K.execCount++,K.startCount){if(K.endCount){if(K.execCount<K.startCount||K.execCount>K.endCount)return}else if(K.unbounded){if(K.execCount<K.startCount)return}else if(K.execCount!==K.startCount)return}if(K.debounceTime){K.debounced&&clearTimeout(K.debounced),K.debounced=setTimeout(function(){Ee.execute(te)},K.debounceTime);return}if(K.throttleTime){if(K.lastExec&&Date.now()<K.lastExec+K.throttleTime)return;K.lastExec=Date.now()}Ee.execute(te)}})})}}};return r.setParent(Te,Ee),Ee}}),E.addFeature("def",function(r,a,e){if(e.matchToken("def")){var n=r.requireElement("dotOrColonPath",e),l=n.evaluate(),s=l.split("."),i=s.pop(),c=[];if(e.matchOpToken("(")&&!e.matchOpToken(")")){do c.push(e.requireTokenType("IDENTIFIER"));while(e.matchOpToken(","));e.requireOpToken(")")}var m=r.requireElement("commandList",e),d,T;if(e.matchToken("catch")&&(d=e.requireTokenType("IDENTIFIER").value,T=r.parseElement("commandList",e)),e.matchToken("finally")){var S=r.requireElement("commandList",e);r.ensureTerminated(S)}var x={displayName:i+"("+c.map(function(g){return g.value}).join(", ")+")",name:i,args:c,start:m,errorHandler:T,errorSymbol:d,finallyHandler:S,install:function(g,_){var U=function(){var D=a.makeContext(_,x,g,null);D.meta.errorHandler=T,D.meta.errorSymbol=d,D.meta.finallyHandler=S;for(var Z=0;Z<c.length;Z++){var J=c[Z],ue=arguments[Z];J&&(D.locals[J.value]=ue)}D.meta.caller=arguments[c.length],D.meta.caller&&(D.meta.callingCommand=D.meta.caller.meta.command);var me,X=null,se=new Promise(function(ve,le){me=ve,X=le});return m.execute(D),D.meta.returned?D.meta.returnValue:(D.meta.resolve=me,D.meta.reject=X,se)};U.hyperfunc=!0,U.hypername=l,a.assignToNamespace(g,s,i,U)}};return r.ensureTerminated(m),T&&r.ensureTerminated(T),r.setParent(m,x),x}}),E.addFeature("set",function(r,a,e){let n=r.parseElement("setCommand",e);if(n){n.target.scope!=="element"&&r.raiseParseError(e,"variables declared at the feature level must be element scoped.");let l={start:n,install:function(s,i){n&&n.execute(a.makeContext(s,l,s,null))}};return r.ensureTerminated(n),l}}),E.addFeature("init",function(r,a,e){if(e.matchToken("init")){var n=e.matchToken("immediately"),l=r.requireElement("commandList",e),s={start:l,install:function(i,c){let m=function(){l&&l.execute(a.makeContext(i,s,i,null))};n?m():setTimeout(m,0)}};return r.ensureTerminated(l),r.setParent(l,s),s}}),E.addFeature("worker",function(r,a,e){if(e.matchToken("worker")){r.raiseParseError(e,"In order to use the 'worker' feature, include the _hyperscript worker plugin. See https://hyperscript.org/features/worker/ for more info.");return}}),E.addFeature("behavior",function(r,a,e){if(e.matchToken("behavior")){var n=r.requireElement("dotOrColonPath",e).evaluate(),l=n.split("."),s=l.pop(),i=[];if(e.matchOpToken("(")&&!e.matchOpToken(")")){do i.push(e.requireTokenType("IDENTIFIER").value);while(e.matchOpToken(","));e.requireOpToken(")")}for(var c=r.requireElement("hyperscript",e),m=0;m<c.features.length;m++){var d=c.features[m];d.behavior=n}return{install:function(T,S){a.assignToNamespace(w.document&&w.document.body,l,s,function(x,g,_){for(var U=a.getInternalData(x),D=ee(U,n+"Scope"),Z=0;Z<i.length;Z++)D[i[Z]]=_[i[Z]];c.apply(x,g)})}}}}),E.addFeature("install",function(r,a,e){if(e.matchToken("install")){var n=r.requireElement("dotOrColonPath",e).evaluate(),l=n.split("."),s=r.parseElement("namedArgumentList",e),i;return i={install:function(c,m){a.unifiedEval({args:[s],op:function(d,T){for(var S=w,x=0;x<l.length;x++)if(S=S[l[x]],typeof S!="object"&&typeof S!="function")throw new Error("No such behavior defined as "+n);if(!(S instanceof Function))throw new Error(n+" is not a behavior");S(c,m,T)}},a.makeContext(c,i,c,null))}}}}),E.addGrammarElement("jsBody",function(r,a,e){for(var n=e.currentToken().start,l=e.currentToken(),s=[],i="",c=!1;e.hasMore();){l=e.consumeToken();var m=e.token(0,!0);if(m.type==="IDENTIFIER"&&m.value==="end")break;c?l.type==="IDENTIFIER"||l.type==="NUMBER"?i+=l.value:(i!==""&&s.push(i),i="",c=!1):l.type==="IDENTIFIER"&&l.value==="function"&&(c=!0)}var d=l.end+1;return{type:"jsBody",exposedFunctionNames:s,jsSource:e.source.substring(n,d)}}),E.addFeature("js",function(r,a,e){if(e.matchToken("js")){var n=r.requireElement("jsBody",e),l=n.jsSource+`
return { `+n.exposedFunctionNames.map(function(i){return i+":"+i}).join(",")+" } ",s=new Function(l);return{jsSource:l,function:s,exposedFunctionNames:n.exposedFunctionNames,install:function(){Object.assign(w,s())}}}}),E.addCommand("js",function(r,a,e){if(e.matchToken("js")){var n=[];if(e.matchOpToken("(")&&!e.matchOpToken(")")){do{var l=e.requireTokenType("IDENTIFIER");n.push(l.value)}while(e.matchOpToken(","));e.requireOpToken(")")}var s=r.requireElement("jsBody",e);e.matchToken("end");var i=Re(Function,n.concat([s.jsSource])),c={jsSource:s.jsSource,function:i,inputs:n,op:function(m){var d=[];n.forEach(function(S){d.push(a.resolveSymbol(S,m,"default"))});var T=i.apply(w,d);return T&&typeof T.then=="function"?new Promise(function(S){T.then(function(x){m.result=x,S(a.findNext(this,m))})}):(m.result=T,a.findNext(this,m))}};return c}}),E.addCommand("async",function(r,a,e){if(e.matchToken("async")){if(e.matchToken("do")){for(var n=r.requireElement("commandList",e),l=n;l.next;)l=l.next;l.next=a.HALT,e.requireToken("end")}else var n=r.requireElement("command",e);var s={body:n,op:function(i){return setTimeout(function(){n.execute(i)}),a.findNext(this,i)}};return r.setParent(n,s),s}}),E.addCommand("tell",function(r,a,e){var n=e.currentToken();if(e.matchToken("tell")){var l=r.requireElement("expression",e),s=r.requireElement("commandList",e);e.hasMore()&&!r.featureStart(e.currentToken())&&e.requireToken("end");var i="tell_"+n.start,c={value:l,body:s,args:[l],resolveNext:function(m){var d=m.meta.iterators[i];return d.index<d.value.length?(m.you=d.value[d.index++],s):(m.you=d.originalYou,this.next?this.next:a.findNext(this.parent,m))},op:function(m,d){return d==null?d=[]:Array.isArray(d)||d instanceof NodeList||(d=[d]),m.meta.iterators[i]={originalYou:m.you,index:0,value:d},this.resolveNext(m)}};return r.setParent(s,c),c}}),E.addCommand("wait",function(r,a,e){if(e.matchToken("wait")){var n;if(e.matchToken("for")){e.matchToken("a");var l=[];do{var s=e.token(0);s.type==="NUMBER"||s.type==="L_PAREN"?l.push({time:r.requireElement("expression",e).evaluate()}):l.push({name:r.requireElement("dotOrColonPath",e,"Expected event name").evaluate(),args:b(e)})}while(e.matchToken("or"));if(e.matchToken("from"))var i=r.requireElement("expression",e);return n={event:l,on:i,args:[i],op:function(m,d){var T=d||m.me;if(!(T instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise(S=>{var x=!1;for(const _ of l){var g=U=>{if(m.result=U,_.args)for(const D of _.args)m.locals[D.value]=U[D.value]||(U.detail?U.detail[D.value]:null);x||(x=!0,S(a.findNext(this,m)))};_.name?T.addEventListener(_.name,g,{once:!0}):_.time!=null&&setTimeout(g,_.time,_.time)}})}},n}else{var c;return e.matchToken("a")?(e.requireToken("tick"),c=0):c=r.requireElement("expression",e),n={type:"waitCmd",time:c,args:[c],op:function(m,d){return new Promise(T=>{setTimeout(()=>{T(a.findNext(this,m))},d)})},execute:function(m){return a.unifiedExec(this,m)}},n}}}),E.addGrammarElement("dotOrColonPath",function(r,a,e){var n=e.matchTokenType("IDENTIFIER");if(n){var l=[n.value],s=e.matchOpToken(".")||e.matchOpToken(":");if(s)do l.push(e.requireTokenType("IDENTIFIER","NUMBER").value);while(e.matchOpToken(s.value));return{type:"dotOrColonPath",path:l,evaluate:function(){return l.join(s?s.value:"")}}}}),E.addGrammarElement("eventName",function(r,a,e){var n;return(n=e.matchTokenType("STRING"))?{evaluate:function(){return n.value}}:r.parseElement("dotOrColonPath",e)});function q(r,a,e,n){var l=a.requireElement("eventName",n),s=a.parseElement("namedArgumentList",n);if(r==="send"&&n.matchToken("to")||r==="trigger"&&n.matchToken("on"))var i=a.requireElement("expression",n);else var i=a.requireElement("implicitMeTarget",n);var c={eventName:l,details:s,to:i,args:[i,l,s],op:function(m,d,T,S){return e.nullCheck(d,i),e.implicitLoop(d,function(x){e.triggerEvent(x,T,S,m.me)}),e.findNext(c,m)}};return c}E.addCommand("trigger",function(r,a,e){if(e.matchToken("trigger"))return q("trigger",r,a,e)}),E.addCommand("send",function(r,a,e){if(e.matchToken("send"))return q("send",r,a,e)});var N=function(r,a,e,n){if(n)if(r.commandBoundary(e.currentToken()))r.raiseParseError(e,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.");else var l=r.requireElement("expression",e);var s={value:l,args:[l],op:function(i,c){var m=i.meta.resolve;return i.meta.returned=!0,i.meta.returnValue=c,m&&(c?m(c):m()),a.HALT}};return s};E.addCommand("return",function(r,a,e){if(e.matchToken("return"))return N(r,a,e,!0)}),E.addCommand("exit",function(r,a,e){if(e.matchToken("exit"))return N(r,a,e,!1)}),E.addCommand("halt",function(r,a,e){if(e.matchToken("halt")){if(e.matchToken("the")){e.requireToken("event"),e.matchOpToken("'")&&e.requireToken("s");var n=!0}if(e.matchToken("bubbling"))var l=!0;else if(e.matchToken("default"))var s=!0;var i=N(r,a,e,!1),c={keepExecuting:!0,bubbling:l,haltDefault:s,exit:i,op:function(m){if(m.event)return l?m.event.stopPropagation():(s||m.event.stopPropagation(),m.event.preventDefault()),n?a.findNext(this,m):i}};return c}}),E.addCommand("log",function(r,a,e){if(e.matchToken("log")){for(var n=[r.parseElement("expression",e)];e.matchOpToken(",");)n.push(r.requireElement("expression",e));if(e.matchToken("with"))var l=r.requireElement("expression",e);var s={exprs:n,withExpr:l,args:[l,n],op:function(i,c,m){return c?c.apply(null,m):console.log.apply(null,m),a.findNext(this,i)}};return s}}),E.addCommand("beep!",function(r,a,e){if(e.matchToken("beep!")){for(var n=[r.parseElement("expression",e)];e.matchOpToken(",");)n.push(r.requireElement("expression",e));var l={exprs:n,args:[n],op:function(s,i){for(let c=0;c<n.length;c++){const m=n[c],d=i[c];a.beepValueToConsole(s.me,m,d)}return a.findNext(this,s)}};return l}}),E.addCommand("throw",function(r,a,e){if(e.matchToken("throw")){var n=r.requireElement("expression",e),l={expr:n,args:[n],op:function(s,i){throw a.registerHyperTrace(s,i),i}};return l}});var A=function(r,a,e){var n=r.requireElement("expression",e),l={expr:n,args:[n],op:function(s,i){return s.result=i,a.findNext(l,s)}};return l};E.addCommand("call",function(r,a,e){if(e.matchToken("call")){var n=A(r,a,e);return n.expr&&n.expr.type!=="functionCall"&&r.raiseParseError(e,"Must be a function invocation"),n}}),E.addCommand("get",function(r,a,e){if(e.matchToken("get"))return A(r,a,e)}),E.addCommand("make",function(r,a,e){if(e.matchToken("make")){e.matchToken("a")||e.matchToken("an");var n=r.requireElement("expression",e),l=[];if(n.type!=="queryRef"&&e.matchToken("from"))do l.push(r.requireElement("expression",e));while(e.matchOpToken(","));if(e.matchToken("called"))var s=r.requireElement("symbol",e);var i;return n.type==="queryRef"?(i={op:function(c){for(var m,d="div",T,S=[],x=/(?:(^|#|\.)([^#\. ]+))/g;m=x.exec(n.css);)m[1]===""?d=m[2].trim():m[1]==="#"?T=m[2].trim():S.push(m[2].trim());var g=document.createElement(d);T!==void 0&&(g.id=T);for(var _=0;_<S.length;_++){var U=S[_];g.classList.add(U)}return c.result=g,s&&a.setSymbol(s.name,c,s.scope,g),a.findNext(this,c)}},i):(i={args:[n,l],op:function(c,m,d){return c.result=Re(m,d),s&&a.setSymbol(s.name,c,s.scope,c.result),a.findNext(this,c)}},i)}}),E.addGrammarElement("pseudoCommand",function(r,a,e){let n=e.token(1);if(!(n&&n.op&&(n.value==="."||n.value==="(")))return null;for(var l=r.requireElement("primaryExpression",e),s=l.root,i=l;s.root!=null;)i=i.root,s=s.root;if(l.type!=="functionCall"&&r.raiseParseError(e,"Pseudo-commands must be function calls"),i.type==="functionCall"&&i.root.root==null){if(e.matchAnyToken("the","to","on","with","into","from","at"))var c=r.requireElement("expression",e);else if(e.matchToken("me"))var c=r.requireElement("implicitMeTarget",e)}var m;return c?m={type:"pseudoCommand",root:c,argExressions:i.argExressions,args:[c,i.argExressions],op:function(d,T,S){a.nullCheck(T,c);var x=T[i.root.name];return a.nullCheck(x,i),x.hyperfunc&&S.push(d),d.result=x.apply(T,S),a.findNext(m,d)},execute:function(d){return a.unifiedExec(this,d)}}:m={type:"pseudoCommand",expr:l,args:[l],op:function(d,T){return d.result=T,a.findNext(m,d)},execute:function(d){return a.unifiedExec(this,d)}},m});var L=function(r,a,e,n,l){var s=n.type==="symbol",i=n.type==="attributeRef",c=n.type==="styleRef",m=n.type==="arrayIndex";!(i||c||s)&&n.root==null&&r.raiseParseError(e,"Can only put directly into symbols, not references");var d=null,T=null;if(!s)if(i||c){d=r.requireElement("implicitMeTarget",e);var S=n}else if(m)T=n.firstIndex,d=n.root;else{T=n.prop?n.prop.value:null;var S=n.attribute;d=n.root}var x={target:n,symbolWrite:s,value:l,args:[d,T,l],op:function(g,_,U,D){return s?a.setSymbol(n.name,g,n.scope,D):(a.nullCheck(_,d),m?_[U]=D:a.implicitLoop(_,function(Z){S?S.type==="attributeRef"?D==null?Z.removeAttribute(S.name):Z.setAttribute(S.name,D):Z.style[S.name]=D:Z[U]=D})),a.findNext(this,g)}};return x};E.addCommand("default",function(r,a,e){if(e.matchToken("default")){var n=r.requireElement("assignableExpression",e);e.requireToken("to");var l=r.requireElement("expression",e),s=L(r,a,e,n,l),i={target:n,value:l,setter:s,args:[n],op:function(c,m){return m?a.findNext(this,c):s}};return s.parent=i,i}}),E.addCommand("set",function(r,a,e){if(e.matchToken("set")){if(e.currentToken().type==="L_BRACE"){var n=r.requireElement("objectLiteral",e);e.requireToken("on");var l=r.requireElement("expression",e),s={objectLiteral:n,target:l,args:[n,l],op:function(c,m,d){return Object.assign(d,m),a.findNext(this,c)}};return s}try{e.pushFollow("to");var l=r.requireElement("assignableExpression",e)}finally{e.popFollow()}e.requireToken("to");var i=r.requireElement("expression",e);return L(r,a,e,l,i)}}),E.addCommand("if",function(r,a,e){if(!e.matchToken("if"))return;var n=r.requireElement("expression",e);e.matchToken("then");var l=r.parseElement("commandList",e),s=!1;let i=e.matchToken("else")||e.matchToken("otherwise");if(i){let d=e.peekToken("if");if(s=d!=null&&d.line===i.line,s)var c=r.parseElement("command",e);else var c=r.parseElement("commandList",e)}e.hasMore()&&!s&&e.requireToken("end");var m={expr:n,trueBranch:l,falseBranch:c,args:[n],op:function(d,T){return T?l:c||a.findNext(this,d)}};return r.setParent(l,m),r.setParent(c,m),m});var R=function(r,a,e,n){var l=a.currentToken(),s;if(a.matchToken("for")||n){var i=a.requireTokenType("IDENTIFIER");s=i.value,a.requireToken("in");var c=r.requireElement("expression",a)}else if(a.matchToken("in")){s="it";var c=r.requireElement("expression",a)}else if(a.matchToken("while"))var m=r.requireElement("expression",a);else if(a.matchToken("until")){var d=!0;if(a.matchToken("event")){var T=r.requireElement("dotOrColonPath",a,"Expected event name");if(a.matchToken("from"))var S=r.requireElement("expression",a)}else var m=r.requireElement("expression",a)}else if(!r.commandBoundary(a.currentToken())&&a.currentToken().value!=="forever"){var x=r.requireElement("expression",a);a.requireToken("times")}else{a.matchToken("forever");var g=!0}if(a.matchToken("index"))var i=a.requireTokenType("IDENTIFIER"),_=i.value;var U=r.parseElement("commandList",a);if(U&&T){for(var D=U;D.next;)D=D.next;var Z={type:"waitATick",op:function(){return new Promise(function(X){setTimeout(function(){X(e.findNext(Z))},0)})}};D.next=Z}if(a.hasMore()&&a.requireToken("end"),s==null){s="_implicit_repeat_"+l.start;var J=s}else var J=s+"_"+l.start;var ue={identifier:s,indexIdentifier:_,slot:J,expression:c,forever:g,times:x,until:d,event:T,on:S,whileExpr:m,resolveNext:function(){return this},loop:U,args:[m,x],op:function(X,se,ve){var le=X.meta.iterators[J],pe=!1,Se=null;if(this.forever)pe=!0;else if(this.until)T?pe=X.meta.iterators[J].eventFired===!1:pe=se!==!0;else if(m)pe=se;else if(ve)pe=le.index<ve;else{var Te=le.iterator.next();pe=!Te.done,Se=Te.value}return pe?(le.value?X.result=X.locals[s]=Se:X.result=le.index,_&&(X.locals[_]=le.index),le.index++,U):(X.meta.iterators[J]=null,e.findNext(this.parent,X))}};r.setParent(U,ue);var me={name:"repeatInit",args:[c,T,S],op:function(X,se,ve,le){var pe={index:0,value:se,eventFired:!1};if(X.meta.iterators[J]=pe,se&&se[Symbol.iterator]&&(pe.iterator=se[Symbol.iterator]()),T){var Se=le||X.me;Se.addEventListener(ve,function(Te){X.meta.iterators[J].eventFired=!0},{once:!0})}return ue},execute:function(X){return e.unifiedExec(this,X)}};return r.setParent(ue,me),me};E.addCommand("repeat",function(r,a,e){if(e.matchToken("repeat"))return R(r,e,a,!1)}),E.addCommand("for",function(r,a,e){if(e.matchToken("for"))return R(r,e,a,!0)}),E.addCommand("continue",function(r,a,e){if(e.matchToken("continue")){var n={op:function(l){for(var s=this.parent;;s=s.parent)if(s==null&&r.raiseParseError(e,"Command `continue` cannot be used outside of a `repeat` loop."),s.loop!=null)return s.resolveNext(l)}};return n}}),E.addCommand("break",function(r,a,e){if(e.matchToken("break")){var n={op:function(l){for(var s=this.parent;;s=s.parent)if(s==null&&r.raiseParseError(e,"Command `continue` cannot be used outside of a `repeat` loop."),s.loop!=null)return a.findNext(s.parent,l)}};return n}}),E.addGrammarElement("stringLike",function(r,a,e){return r.parseAnyOf(["string","nakedString"],e)}),E.addCommand("append",function(r,a,e){if(e.matchToken("append")){var n=null,l=r.requireElement("expression",e),s={type:"symbol",evaluate:function(m){return a.resolveSymbol("result",m)}};e.matchToken("to")?n=r.requireElement("expression",e):n=s;var i=null;(n.type==="symbol"||n.type==="attributeRef"||n.root!=null)&&(i=L(r,a,e,n,s));var c={value:l,target:n,args:[n,l],op:function(m,d,T){if(Array.isArray(d))return d.push(T),a.findNext(this,m);if(d instanceof Element)return d.innerHTML+=T,a.findNext(this,m);if(i)return m.result=(d||"")+T,i;throw Error("Unable to append a value!")},execute:function(m){return a.unifiedExec(this,m)}};return i!=null&&(i.parent=c),c}});function F(r,a,e){e.matchToken("at")||e.matchToken("from");const n={includeStart:!0,includeEnd:!1};return n.from=e.matchToken("start")?0:r.requireElement("expression",e),(e.matchToken("to")||e.matchOpToken(".."))&&(e.matchToken("end")?n.toEnd=!0:n.to=r.requireElement("expression",e)),e.matchToken("inclusive")?n.includeEnd=!0:e.matchToken("exclusive")&&(n.includeStart=!1),n}class H{constructor(a,e){this.re=a,this.str=e}next(){const a=this.re.exec(this.str);return a===null?{done:!0}:{value:a}}}class G{constructor(a,e,n){this.re=a,this.flags=e,this.str=n}[Symbol.iterator](){return new H(new RegExp(this.re,this.flags),this.str)}}E.addCommand("pick",(r,a,e)=>{if(e.matchToken("pick")){if(e.matchToken("the"),e.matchToken("item")||e.matchToken("items")||e.matchToken("character")||e.matchToken("characters")){const n=F(r,a,e);return e.requireToken("from"),{args:[r.requireElement("expression",e),n.from,n.to],op(s,i,c,m){return n.toEnd&&(m=i.length),n.includeStart||c++,n.includeEnd&&m++,(m==null||m==null)&&(m=c+1),s.result=i.slice(c,m),a.findNext(this,s)}}}if(e.matchToken("match")){e.matchToken("of");const n=r.parseElement("expression",e);let l="";return e.matchOpToken("|")&&(l=e.requireToken("identifier").value),e.requireToken("from"),{args:[r.parseElement("expression",e),n],op(i,c,m){return i.result=new RegExp(m,l).exec(c),a.findNext(this,i)}}}if(e.matchToken("matches")){e.matchToken("of");const n=r.parseElement("expression",e);let l="gu";return e.matchOpToken("|")&&(l="g"+e.requireToken("identifier").value.replace("g","")),console.log("flags",l),e.requireToken("from"),{args:[r.parseElement("expression",e),n],op(i,c,m){return i.result=new G(m,l,c),a.findNext(this,i)}}}}}),E.addCommand("increment",function(r,a,e){if(e.matchToken("increment")){var n,l=r.parseElement("assignableExpression",e);e.matchToken("by")&&(n=r.requireElement("expression",e));var s={type:"implicitIncrementOp",target:l,args:[l,n],op:function(i,c,m){c=c?parseFloat(c):0,m=n?parseFloat(m):1;var d=c+m;return i.result=d,d},evaluate:function(i){return a.unifiedEval(this,i)}};return L(r,a,e,l,s)}}),E.addCommand("decrement",function(r,a,e){if(e.matchToken("decrement")){var n,l=r.parseElement("assignableExpression",e);e.matchToken("by")&&(n=r.requireElement("expression",e));var s={type:"implicitDecrementOp",target:l,args:[l,n],op:function(i,c,m){c=c?parseFloat(c):0,m=n?parseFloat(m):1;var d=c-m;return i.result=d,d},evaluate:function(i){return a.unifiedEval(this,i)}};return L(r,a,e,l,s)}});function j(r,a){var e="text",n;return r.matchToken("a")||r.matchToken("an"),r.matchToken("json")||r.matchToken("Object")?e="json":r.matchToken("response")?e="response":r.matchToken("html")?e="html":r.matchToken("text")||(n=a.requireElement("dotOrColonPath",r).evaluate()),{type:e,conversion:n}}E.addCommand("fetch",function(r,a,e){if(e.matchToken("fetch")){var n=r.requireElement("stringLike",e);if(e.matchToken("as"))var l=j(e,r);if(e.matchToken("with")&&e.currentToken().value!=="{")var s=r.parseElement("nakedNamedArgumentList",e);else var s=r.parseElement("objectLiteral",e);l==null&&e.matchToken("as")&&(l=j(e,r));var i=l?l.type:"text",c=l?l.conversion:null,m={url:n,argExpressions:s,args:[n,s],op:function(d,T,S){var x=S||{};x.sender=d.me,x.headers=x.headers||{};var g=new AbortController;let _=d.me.addEventListener("fetch:abort",function(){g.abort()},{once:!0});x.signal=g.signal,a.triggerEvent(d.me,"hyperscript:beforeFetch",x),a.triggerEvent(d.me,"fetch:beforeRequest",x),S=x;var U=!1;return S.timeout&&setTimeout(function(){U||g.abort()},S.timeout),fetch(T,S).then(function(D){let Z={response:D};return a.triggerEvent(d.me,"fetch:afterResponse",Z),D=Z.response,i==="response"?(d.result=D,a.triggerEvent(d.me,"fetch:afterRequest",{result:D}),U=!0,a.findNext(m,d)):i==="json"?D.json().then(function(J){return d.result=J,a.triggerEvent(d.me,"fetch:afterRequest",{result:J}),U=!0,a.findNext(m,d)}):D.text().then(function(J){return c&&(J=a.convertValue(J,c)),i==="html"&&(J=a.convertValue(J,"Fragment")),d.result=J,a.triggerEvent(d.me,"fetch:afterRequest",{result:J}),U=!0,a.findNext(m,d)})}).catch(function(D){throw a.triggerEvent(d.me,"fetch:error",{reason:D}),D}).finally(function(){d.me.removeEventListener("fetch:abort",_)})}};return m}})}function je(E){E.addCommand("settle",function(h,v,u){if(u.matchToken("settle")){if(h.commandBoundary(u.currentToken()))var b=h.requireElement("implicitMeTarget",u);else var b=h.requireElement("expression",u);var q={type:"settleCmd",args:[b],op:function(N,A){v.nullCheck(A,b);var L=null,R=!1,F=!1,H=new Promise(function(G){L=G});return A.addEventListener("transitionstart",function(){F=!0},{once:!0}),setTimeout(function(){!F&&!R&&L(v.findNext(q,N))},500),A.addEventListener("transitionend",function(){L(v.findNext(q,N))},{once:!0}),H},execute:function(N){return v.unifiedExec(this,N)}};return q}}),E.addCommand("add",function(h,v,u){if(u.matchToken("add")){var b=h.parseElement("classRef",u),q=null,N=null;if(b==null)q=h.parseElement("attributeRef",u),q==null&&(N=h.parseElement("styleLiteral",u),N==null&&h.raiseParseError(u,"Expected either a class reference or attribute expression"));else for(var A=[b];b=h.parseElement("classRef",u);)A.push(b);if(u.matchToken("to"))var L=h.requireElement("expression",u);else var L=h.requireElement("implicitMeTarget",u);if(u.matchToken("when")){N&&h.raiseParseError(u,"Only class and properties are supported with a when clause");var R=h.requireElement("expression",u)}return A?{classRefs:A,to:L,args:[L,A],op:function(F,H,G){return v.nullCheck(H,L),v.forEach(G,function(j){v.implicitLoop(H,function(r){R?(F.result=r,v.evaluateNoPromise(R,F)?r instanceof Element&&r.classList.add(j.className):r instanceof Element&&r.classList.remove(j.className),F.result=null):r instanceof Element&&r.classList.add(j.className)})}),v.findNext(this,F)}}:q?{type:"addCmd",attributeRef:q,to:L,args:[L],op:function(F,H,G){return v.nullCheck(H,L),v.implicitLoop(H,function(j){R?(F.result=j,v.evaluateNoPromise(R,F)?j.setAttribute(q.name,q.value):j.removeAttribute(q.name),F.result=null):j.setAttribute(q.name,q.value)}),v.findNext(this,F)},execute:function(F){return v.unifiedExec(this,F)}}:{type:"addCmd",cssDeclaration:N,to:L,args:[L,N],op:function(F,H,G){return v.nullCheck(H,L),v.implicitLoop(H,function(j){j.style.cssText+=G}),v.findNext(this,F)},execute:function(F){return v.unifiedExec(this,F)}}}}),E.addGrammarElement("styleLiteral",function(h,v,u){if(u.matchOpToken("{")){for(var b=[""],q=[];u.hasMore();){if(u.matchOpToken("\\"))u.consumeToken();else{if(u.matchOpToken("}"))break;if(u.matchToken("$")){var N=u.matchOpToken("{"),A=h.parseElement("expression",u);N&&u.requireOpToken("}"),q.push(A),b.push("")}else{var L=u.consumeToken();b[b.length-1]+=u.source.substring(L.start,L.end)}}b[b.length-1]+=u.lastWhitespace()}return{type:"styleLiteral",args:[q],op:function(R,F){var H="";return b.forEach(function(G,j){H+=G,j in F&&(H+=F[j])}),H},evaluate:function(R){return v.unifiedEval(this,R)}}}}),E.addCommand("remove",function(h,v,u){if(u.matchToken("remove")){var b=h.parseElement("classRef",u),q=null,N=null;if(b==null)q=h.parseElement("attributeRef",u),q==null&&(N=h.parseElement("expression",u),N==null&&h.raiseParseError(u,"Expected either a class reference, attribute expression or value expression"));else for(var A=[b];b=h.parseElement("classRef",u);)A.push(b);if(u.matchToken("from"))var L=h.requireElement("expression",u);else if(N==null)var L=h.requireElement("implicitMeTarget",u);return N?{elementExpr:N,from:L,args:[N,L],op:function(R,F,H){return v.nullCheck(F,N),v.implicitLoop(F,function(G){G.parentElement&&(H==null||H.contains(G))&&G.parentElement.removeChild(G)}),v.findNext(this,R)}}:{classRefs:A,attributeRef:q,elementExpr:N,from:L,args:[A,L],op:function(R,F,H){return v.nullCheck(H,L),F?v.forEach(F,function(G){v.implicitLoop(H,function(j){j.classList.remove(G.className)})}):v.implicitLoop(H,function(G){G.removeAttribute(q.name)}),v.findNext(this,R)}}}}),E.addCommand("toggle",function(h,v,u){if(u.matchToken("toggle")){if(u.matchAnyToken("the","my"),u.currentToken().type==="STYLE_REF"){var b=u.consumeToken().value.substr(1),q=!0,N=f(h,u,b);if(u.matchToken("of")){u.pushFollow("with");try{var A=h.requireElement("expression",u)}finally{u.popFollow()}}else var A=h.requireElement("implicitMeTarget",u)}else if(u.matchToken("between")){var L=!0,R=h.parseElement("classRef",u);u.requireToken("and");var F=h.requireElement("classRef",u)}else{var R=h.parseElement("classRef",u),H=null;if(R==null)H=h.parseElement("attributeRef",u),H==null&&h.raiseParseError(u,"Expected either a class reference or attribute expression");else for(var G=[R];R=h.parseElement("classRef",u);)G.push(R)}if(q!==!0)if(u.matchToken("on"))var A=h.requireElement("expression",u);else var A=h.requireElement("implicitMeTarget",u);if(u.matchToken("for"))var j=h.requireElement("expression",u);else if(u.matchToken("until")){var r=h.requireElement("dotOrColonPath",u,"Expected event name");if(u.matchToken("from"))var a=h.requireElement("expression",u)}var e={classRef:R,classRef2:F,classRefs:G,attributeRef:H,on:A,time:j,evt:r,from:a,toggle:function(n,l,s,i){v.nullCheck(n,A),q?v.implicitLoop(n,function(c){N("toggle",c)}):L?v.implicitLoop(n,function(c){c.classList.contains(l.className)?(c.classList.remove(l.className),c.classList.add(s.className)):(c.classList.add(l.className),c.classList.remove(s.className))}):i?v.forEach(i,function(c){v.implicitLoop(n,function(m){m.classList.toggle(c.className)})}):v.forEach(n,function(c){c.hasAttribute(H.name)?c.removeAttribute(H.name):c.setAttribute(H.name,H.value)})},args:[A,j,r,a,R,F,G],op:function(n,l,s,i,c,m,d,T){return s?new Promise(function(S){e.toggle(l,m,d,T),setTimeout(function(){e.toggle(l,m,d,T),S(v.findNext(e,n))},s)}):i?new Promise(function(S){var x=c||n.me;x.addEventListener(i,function(){e.toggle(l,m,d,T),S(v.findNext(e,n))},{once:!0}),e.toggle(l,m,d,T)}):(this.toggle(l,m,d,T),v.findNext(e,n))}};return e}});var t={display:function(h,v,u){if(u)v.style.display=u;else if(h==="toggle")getComputedStyle(v).display==="none"?t.display("show",v,u):t.display("hide",v,u);else if(h==="hide"){const b=E.runtime.getInternalData(v);b.originalDisplay==null&&(b.originalDisplay=v.style.display),v.style.display="none"}else{const b=E.runtime.getInternalData(v);b.originalDisplay&&b.originalDisplay!=="none"?v.style.display=b.originalDisplay:v.style.removeProperty("display")}},visibility:function(h,v,u){u?v.style.visibility=u:h==="toggle"?getComputedStyle(v).visibility==="hidden"?t.visibility("show",v,u):t.visibility("hide",v,u):h==="hide"?v.style.visibility="hidden":v.style.visibility="visible"},opacity:function(h,v,u){u?v.style.opacity=u:h==="toggle"?getComputedStyle(v).opacity==="0"?t.opacity("show",v,u):t.opacity("hide",v,u):h==="hide"?v.style.opacity="0":v.style.opacity="1"}},o=function(h,v,u){var b,q=u.currentToken();return q.value==="when"||q.value==="with"||h.commandBoundary(q)?b=h.parseElement("implicitMeTarget",u):b=h.parseElement("expression",u),b},f=function(h,v,u){var b=O.defaultHideShowStrategy,q=t;O.hideShowStrategies&&(q=Object.assign(q,O.hideShowStrategies)),u=u||b||"display";var N=q[u];return N==null&&h.raiseParseError(v,"Unknown show/hide strategy : "+u),N};E.addCommand("hide",function(h,v,u){if(u.matchToken("hide")){var b=o(h,v,u),q=null;u.matchToken("with")&&(q=u.requireTokenType("IDENTIFIER","STYLE_REF").value,q.indexOf("*")===0&&(q=q.substr(1)));var N=f(h,u,q);return{target:b,args:[b],op:function(A,L){return v.nullCheck(L,b),v.implicitLoop(L,function(R){N("hide",R)}),v.findNext(this,A)}}}}),E.addCommand("show",function(h,v,u){if(u.matchToken("show")){var b=o(h,v,u),q=null;u.matchToken("with")&&(q=u.requireTokenType("IDENTIFIER","STYLE_REF").value,q.indexOf("*")===0&&(q=q.substr(1)));var N=null;if(u.matchOpToken(":")){var A=u.consumeUntilWhitespace();u.matchTokenType("WHITESPACE"),N=A.map(function(F){return F.value}).join("")}if(u.matchToken("when"))var L=h.requireElement("expression",u);var R=f(h,u,q);return{target:b,when:L,args:[b],op:function(F,H){return v.nullCheck(H,b),v.implicitLoop(H,function(G){L?(F.result=G,v.evaluateNoPromise(L,F)?R("show",G,N):R("hide",G),F.result=null):R("show",G,N)}),v.findNext(this,F)}}}}),E.addCommand("take",function(h,v,u){if(u.matchToken("take")){let R=null,F=[];for(;R=h.parseElement("classRef",u);)F.push(R);var b=null,q=null;let H=F.length>0;if(H||(b=h.parseElement("attributeRef",u),b==null&&h.raiseParseError(u,"Expected either a class reference or attribute expression"),u.matchToken("with")&&(q=h.requireElement("expression",u))),u.matchToken("from"))var N=h.requireElement("expression",u);if(u.matchToken("for"))var A=h.requireElement("expression",u);else var A=h.requireElement("implicitMeTarget",u);if(H){var L={classRefs:F,from:N,forElt:A,args:[F,N,A],op:function(G,j,r,a){return v.nullCheck(a,A),v.implicitLoop(j,function(e){var n=e.className;r?v.implicitLoop(r,function(l){l.classList.remove(n)}):v.implicitLoop(e,function(l){l.classList.remove(n)}),v.implicitLoop(a,function(l){l.classList.add(n)})}),v.findNext(this,G)}};return L}else{var L={attributeRef:b,from:N,forElt:A,args:[N,A,q],op:function(j,r,a,e){return v.nullCheck(r,N),v.nullCheck(a,A),v.implicitLoop(r,function(n){e?n.setAttribute(b.name,e):n.removeAttribute(b.name)}),v.implicitLoop(a,function(n){n.setAttribute(b.name,b.value||"")}),v.findNext(this,j)}};return L}}});function p(h,v,u,b){if(u!=null)var q=h.resolveSymbol(u,v);else var q=v;if(q instanceof Element||q instanceof HTMLDocument){for(;q.firstChild;)q.removeChild(q.firstChild);q.append(E.runtime.convertValue(b,"Fragment")),h.processNode(q)}else if(u!=null)h.setSymbol(u,v,null,b);else throw"Don't know how to put a value into "+typeof v}E.addCommand("put",function(h,v,u){if(u.matchToken("put")){var b=h.requireElement("expression",u),q=u.matchAnyToken("into","before","after");q==null&&u.matchToken("at")&&(u.matchToken("the"),q=u.matchAnyToken("start","end"),u.requireToken("of")),q==null&&h.raiseParseError(u,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'");var N=h.requireElement("expression",u),A=q.value,L=!1,R=!1,F=null,H=null;if(N.type==="arrayIndex"&&A==="into")L=!0,H=N.prop,F=N.root;else if(N.prop&&N.root&&A==="into")H=N.prop.value,F=N.root;else if(N.type==="symbol"&&A==="into")R=!0,H=N.name;else if(N.type==="attributeRef"&&A==="into"){var G=!0;H=N.name,F=h.requireElement("implicitMeTarget",u)}else if(N.type==="styleRef"&&A==="into"){var j=!0;H=N.name,F=h.requireElement("implicitMeTarget",u)}else if(N.attribute&&A==="into"){var G=N.attribute.type==="attributeRef",j=N.attribute.type==="styleRef";H=N.attribute.name,F=N.root}else F=N;var r={target:N,operation:A,symbolWrite:R,value:b,args:[F,H,b],op:function(a,e,n,l){if(R)p(v,a,n,l);else if(v.nullCheck(e,F),A==="into")G?v.implicitLoop(e,function(i){i.setAttribute(n,l)}):j?v.implicitLoop(e,function(i){i.style[n]=l}):L?e[n]=l:v.implicitLoop(e,function(i){p(v,i,n,l)});else{var s=A==="before"?Element.prototype.before:A==="after"?Element.prototype.after:A==="start"?Element.prototype.prepend:Element.prototype.append;v.implicitLoop(e,function(i){s.call(i,l instanceof Node?l:v.convertValue(l,"Fragment")),i.parentElement?v.processNode(i.parentElement):v.processNode(i)})}return v.findNext(this,a)}};return r}});function y(h,v,u){var b;if(u.matchToken("the")||u.matchToken("element")||u.matchToken("elements")||u.currentToken().type==="CLASS_REF"||u.currentToken().type==="ID_REF"||u.currentToken().op&&u.currentToken().value==="<"){h.possessivesDisabled=!0;try{b=h.parseElement("expression",u)}finally{delete h.possessivesDisabled}u.matchOpToken("'")&&u.requireToken("s")}else if(u.currentToken().type==="IDENTIFIER"&&u.currentToken().value==="its"){var q=u.matchToken("its");b={type:"pseudopossessiveIts",token:q,name:q.value,evaluate:function(N){return v.resolveSymbol("it",N)}}}else u.matchToken("my")||u.matchToken("me"),b=h.parseElement("implicitMeTarget",u);return b}E.addCommand("transition",function(h,v,u){if(u.matchToken("transition")){for(var b=y(h,v,u),q=[],N=[],A=[],L=u.currentToken();!h.commandBoundary(L)&&L.value!=="over"&&L.value!=="using";){if(u.currentToken().type==="STYLE_REF"){let j=u.consumeToken().value.substr(1);q.push({type:"styleRefValue",evaluate:function(){return j}})}else q.push(h.requireElement("stringLike",u));u.matchToken("from")?N.push(h.requireElement("expression",u)):N.push(null),u.requireToken("to"),u.matchToken("initial")?A.push({type:"initial_literal",evaluate:function(){return"initial"}}):A.push(h.requireElement("expression",u)),L=u.currentToken()}if(u.matchToken("over"))var R=h.requireElement("expression",u);else if(u.matchToken("using"))var F=h.requireElement("expression",u);var H={to:A,args:[b,q,N,A,F,R],op:function(G,j,r,a,e,n,l){v.nullCheck(j,b);var s=[];return v.implicitLoop(j,function(i){var c=new Promise(function(m,d){var T=i.style.transition;l?i.style.transition="all "+l+"ms ease-in":n?i.style.transition=n:i.style.transition=O.defaultTransition;for(var S=v.getInternalData(i),x=getComputedStyle(i),g={},_=0;_<x.length;_++){var U=x[_],D=x[U];g[U]=D}S.initialStyles||(S.initialStyles=g);for(var _=0;_<r.length;_++){var Z=r[_],J=a[_];J==="computed"||J==null?i.style[Z]=g[Z]:i.style[Z]=J}var ue=!1,me=!1;i.addEventListener("transitionend",function(){me||(i.style.transition=T,me=!0,m())},{once:!0}),i.addEventListener("transitionstart",function(){ue=!0},{once:!0}),setTimeout(function(){!me&&!ue&&(i.style.transition=T,me=!0,m())},100),setTimeout(function(){for(var X=0;X<r.length;X++){var se=r[X],ve=e[X];if(ve==="initial"){var le=S.initialStyles[se];i.style[se]=le}else i.style[se]=ve}},0)});s.push(c)}),Promise.all(s).then(function(){return v.findNext(H,G)})}};return H}}),E.addCommand("measure",function(h,v,u){if(u.matchToken("measure")){var b=y(h,v,u),q=[];if(!h.commandBoundary(u.currentToken()))do q.push(u.matchTokenType("IDENTIFIER").value);while(u.matchOpToken(","));return{properties:q,args:[b],op:function(N,A){v.nullCheck(A,b),0 in A&&(A=A[0]);var L=A.getBoundingClientRect(),R={top:A.scrollTop,left:A.scrollLeft,topMax:A.scrollTopMax,leftMax:A.scrollLeftMax,height:A.scrollHeight,width:A.scrollWidth};return N.result={x:L.x,y:L.y,left:L.left,top:L.top,right:L.right,bottom:L.bottom,width:L.width,height:L.height,bounds:L,scrollLeft:R.left,scrollTop:R.top,scrollLeftMax:R.leftMax,scrollTopMax:R.topMax,scrollWidth:R.width,scrollHeight:R.height,scroll:R},v.forEach(q,function(F){if(F in N.result)N.locals[F]=N.result[F];else throw"No such measurement as "+F}),v.findNext(this,N)}}}}),E.addLeafExpression("closestExpr",function(h,v,u){if(u.matchToken("closest")){if(u.matchToken("parent"))var b=!0;var q=null;if(u.currentToken().type==="ATTRIBUTE_REF"){var N=h.requireElement("attributeRefAccess",u,null);q="["+N.attribute.name+"]"}if(q==null){var A=h.requireElement("expression",u);A.css==null?h.raiseParseError(u,"Expected a CSS expression"):q=A.css}if(u.matchToken("to"))var L=h.parseElement("expression",u);else var L=h.parseElement("implicitMeTarget",u);var R={type:"closestExpr",parentSearch:b,expr:A,css:q,to:L,args:[L],op:function(F,H){if(H==null)return null;{let G=[];return v.implicitLoop(H,function(j){b?G.push(j.parentElement?j.parentElement.closest(q):null):G.push(j.closest(q))}),v.shouldAutoIterate(H)?G:G[0]}},evaluate:function(F){return v.unifiedEval(this,F)}};return N?(N.root=R,N.args=[R],N):R}}),E.addCommand("go",function(h,v,u){if(u.matchToken("go")){if(u.matchToken("back"))var b=!0;else if(u.matchToken("to"),u.matchToken("url")){var q=h.requireElement("stringLike",u),N=!0;if(u.matchToken("in")){u.requireToken("new"),u.requireToken("window");var A=!0}}else{u.matchToken("the");var L=u.matchAnyToken("top","middle","bottom"),R=u.matchAnyToken("left","center","right");(L||R)&&u.requireToken("of");var q=h.requireElement("unaryExpression",u),F=u.matchAnyOpToken("+","-");if(F){u.pushFollow("px");try{var H=h.requireElement("expression",u)}finally{u.popFollow()}}u.matchToken("px");var G=u.matchAnyToken("smoothly","instantly"),j={block:"start",inline:"nearest"};L&&(L.value==="top"?j.block="start":L.value==="bottom"?j.block="end":L.value==="middle"&&(j.block="center")),R&&(R.value==="left"?j.inline="start":R.value==="center"?j.inline="center":R.value==="right"&&(j.inline="end")),G&&(G.value==="smoothly"?j.behavior="smooth":G.value==="instantly"&&(j.behavior="instant"))}var r={target:q,args:[q,H],op:function(a,e,n){return b?window.history.back():N?e&&(A?window.open(e):window.location.href=e):v.implicitLoop(e,function(l){if(l===window&&(l=document.body),F){let s=l.getBoundingClientRect(),i=document.createElement("div"),c=F.value==="+"?n:n*-1,m=j.inline=="start"||j.inline=="end"?c:0,d=j.block=="start"||j.block=="end"?c:0;i.style.position="absolute",i.style.top=s.top+window.scrollY+d+"px",i.style.left=s.left+window.scrollX+m+"px",i.style.height=s.height+"px",i.style.width=s.width+"px",i.style.zIndex=""+Number.MIN_SAFE_INTEGER,i.style.opacity="0",document.body.appendChild(i),setTimeout(function(){document.body.removeChild(i)},100),l=i}l.scrollIntoView(j)}),v.findNext(r,a)}};return r}}),O.conversions.dynamicResolvers.push(function(h,v){if(!(h==="Values"||h.indexOf("Values:")===0))return;var u=h.split(":")[1],b={},q=E.runtime.implicitLoop.bind(E.runtime);if(q(v,function(L){var R=A(L);if(R!==void 0){b[R.name]=R.value;return}if(L.querySelectorAll!=null){var F=L.querySelectorAll("input,select,textarea");F.forEach(N)}}),u){if(u==="JSON")return JSON.stringify(b);if(u==="Form")return new URLSearchParams(b).toString();throw"Unknown conversion: "+u}else return b;function N(L){var R=A(L);if(R!=null){if(b[R.name]==null){b[R.name]=R.value;return}if(Array.isArray(b[R.name])&&Array.isArray(R.value)){b[R.name]=[].concat(b[R.name],R.value);return}}}function A(L){try{var R={name:L.name,value:L.value};if(R.name==null||R.value==null||L.type=="radio"&&L.checked==!1)return;if(L.type=="checkbox"&&(L.checked==!1?R.value=void 0:typeof R.value=="string"&&(R.value=[R.value])),L.type=="select-multiple"){var F=L.querySelectorAll("option[selected]");R.value=[];for(var H=0;H<F.length;H++)R.value.push(F[H].value)}return R}catch{return}}}),O.conversions.HTML=function(h){var v=function(u){if(u instanceof Array)return u.map(function(A){return v(A)}).join("");if(u instanceof HTMLElement)return u.outerHTML;if(u instanceof NodeList){for(var b="",q=0;q<u.length;q++){var N=u[q];N instanceof HTMLElement&&(b+=N.outerHTML)}return b}return u.toString?u.toString():""};return v(h)},O.conversions.Fragment=function(h){var v=document.createDocumentFragment();return E.runtime.implicitLoop(h,function(u){if(u instanceof Node)v.append(u);else{var b=document.createElement("template");b.innerHTML=u,v.append(b.content)}}),v}}const oe=new M,Oe=oe.lexer,fe=oe.parser;function Me(E,t){return oe.evaluate(E,t)}function Ve(){var E=Array.from(w.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(E.map(function(p){return fetch(p.src).then(function(y){return y.text()})})).then(p=>p.forEach(y=>Ge(y))).then(()=>t(function(){f(),oe.processNode(document.documentElement),w.document.addEventListener("htmx:load",function(p){oe.processNode(p.detail.elt)})}));function t(p){document.readyState!=="loading"?setTimeout(p):document.addEventListener("DOMContentLoaded",p)}function o(){var p=document.querySelector('meta[name="htmx-config"]');return p?he(p.content):null}function f(){var p=o();p&&Object.assign(O,p)}}const Ge=Object.assign(Me,{config:O,use(E){E(Ge)},internals:{lexer:Oe,parser:fe,runtime:oe,Lexer:z,Tokens:I,Parser:k,Runtime:M},ElementCollection:$,addFeature:fe.addFeature.bind(fe),addCommand:fe.addCommand.bind(fe),addLeafExpression:fe.addLeafExpression.bind(fe),addIndirectExpression:fe.addIndirectExpression.bind(fe),evaluate:oe.evaluate.bind(oe),parse:oe.parse.bind(oe),processNode:oe.processNode.bind(oe),version:"0.9.12",browserInit:Ve});return Ge});function pt(w){return window.atob(w)}function dt(w){return window.btoa(w)}const et="cookize_factory";function xe(){const w=document.querySelector("#app");return w==null?void 0:w.store}function ze(){const w=localStorage.getItem(et);return w?JSON.parse(pt(w)):{c:0,m:0,cm:0,s:[],sh:{},sf:{},p:{},u:[]}}function Le(w){const O={...ze(),...w},z=dt(JSON.stringify(O));localStorage.setItem(et,z)}const De=[{name:"ustensils",price:2e3,clickMultiplier:1,secMultiplier:0,icon:'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.--><path class="fa-secondary" opacity=".4" d="M288 176C288 32 400 0 416 0c17.7 0 32 14.3 32 32V352H352c-35.3 0-64-28.7-64-64V176zM49.7 .1C57.9 1 64 7.8 64 16V150.2c0 5.4 4.4 9.8 9.8 9.8c5.1 0 9.3-3.9 9.8-9L96.1 14.6C96.8 6.3 103.7 0 112 0s15.2 6.3 15.9 14.6L140.3 151c.5 5.1 4.7 9 9.8 9c5.4 0 9.8-4.4 9.8-9.8V16c0-8.2 6.1-15 14.3-15.9s15.6 4.5 17.4 12.4l30.3 136.3c1.4 6.3 2.1 12.7 2.1 19.1c0 48.6-39.4 88.1-88.1 88.1H88.1C39.4 256 0 216.6 0 167.9c0-6.4 .7-12.8 2.1-19.1L32.4 12.5C34.2 4.6 41.6-.8 49.7 .1zM112 167.4l-.3 .7 .3 0 .3 0-.3-.7z"/><path class="fa-primary" d="M144 480V256H80V480c0 17.7 14.3 32 32 32s32-14.3 32-32zm304 0V352H384V480c0 17.7 14.3 32 32 32s32-14.3 32-32z"/></svg>'},{name:"bowl",price:2e3,clickMultiplier:3,secMultiplier:0,icon:'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.--><path class="fa-secondary" opacity=".4" d="M217.6 128c-15.4 37.3-56.9 64-105.6 64C50.1 192 0 149 0 96S50.1 0 112 0c48.8 0 90.3 26.7 105.6 64H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H217.6z"/><path class="fa-primary" d="M33.6 224C15.4 224 .9 239.3 2 257.5c5.4 91.7 59.7 169.7 136.4 209.7l1.2 9.7c2.5 20 19.5 35 39.7 35H332.7c20.2 0 37.2-15 39.7-35l1.2-9.7c76.8-40 131-118 136.4-209.7c1.1-18.2-13.4-33.5-31.6-33.5H33.6z"/></svg>'},{name:"knife",price:1e4,clickMultiplier:15,secMultiplier:0,icon:'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.--><path class="fa-secondary" opacity=".4" d="M273.3 222.7L262 211.4l-11.3 11.3-246 246c-3.9 3.9-5.5 9.6-4.3 15s5.3 9.8 10.5 11.5L16 480c-5.1 15.2-5.1 15.2-5.1 15.2l0 0 0 0 0 0 .1 0 .5 .2c.4 .1 1 .3 1.8 .6c1.5 .5 3.7 1.1 6.5 1.9c5.5 1.6 13.3 3.7 22.7 5.7c18.6 4.1 43.9 8.4 69.5 8.4c123.3 0 209.4-62.8 287.3-140.7c6.2-6.2 6.2-16.4 0-22.6l-126-126z"/><path class="fa-primary" d="M463 10.3C469.7 3.7 478.6 0 488 0s18.3 3.7 25 10.3L557.7 55c6.6 6.6 10.3 15.6 10.3 25s-3.7 18.3-10.3 25l-97 97c-3 3-4.7 7.1-4.7 11.3v31.9c0 17.4-9.4 33.5-24.7 42L375.8 318l-4.6 2.6-97.9-97.9L262 211.4l6.7-6.7L463 10.3zM448 144a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm48-48a16 16 0 1 0 0-32 16 16 0 1 0 0 32z"/></svg>'},{name:"food_processor",price:3e3,clickMultiplier:0,secMultiplier:1,icon:'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.--><path class="fa-secondary" opacity=".4" d="M144 224a80 80 0 1 0 0-160 80 80 0 1 0 0 160zM16 480c-8.8 0-16 7.2-16 16s7.2 16 16 16H208c8.8 0 16-7.2 16-16s-7.2-16-16-16H16zM256 296c0 13.3 10.7 24 24 24H520c13.3 0 24-10.7 24-24s-10.7-24-24-24H424v-8c0-13.3-10.7-24-24-24s-24 10.7-24 24v8H280c-13.3 0-24 10.7-24 24z"/><path class="fa-primary" d="M224 144A80 80 0 1 0 64 144a80 80 0 1 0 160 0zm60.4 32C269.9 240.1 212.5 288 144 288C64.5 288 0 223.5 0 144S64.5 0 144 0c68.5 0 125.9 47.9 140.4 112h71.8c8.8-9.8 21.6-16 35.8-16H496c26.5 0 48 21.5 48 48s-21.5 48-48 48H392c-14.2 0-27-6.2-35.8-16H284.4zM48 320h80 16 32c26.5 0 48 21.5 48 48s-21.5 48-48 48H160c0 17.7-14.3 32-32 32H64c-17.7 0-32-14.3-32-32V336c0-8.8 7.2-16 16-16zm128 64c8.8 0 16-7.2 16-16s-7.2-16-16-16H160v32h16zm336-64V464c0 26.5-21.5 48-48 48H336c-26.5 0-48-21.5-48-48V320H512z"/></svg>'},{name:"furnace",price:5e3,clickMultiplier:0,secMultiplier:2,icon:'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.--><path class="fa-secondary" opacity=".4" d="M448 160v32H0V160H448zM64 256H384V448H64V256zm32 48c0 8.8 7.2 16 16 16H336c8.8 0 16-7.2 16-16s-7.2-16-16-16H112c-8.8 0-16 7.2-16 16z"/><path class="fa-primary" d="M96 0H352c53 0 96 43 96 96v64H0V96C0 43 43 0 96 0zM80 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM200 80a24 24 0 1 0 -48 0 24 24 0 1 0 48 0zm72 24a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM392 80a24 24 0 1 0 -48 0 24 24 0 1 0 48 0zM64 256l0 192H384V256H64zM0 192H64 384h64v64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256 192z"/></svg>'},{name:"microwave",price:15e3,clickMultiplier:0,secMultiplier:15,icon:'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.--><path class="fa-secondary" opacity=".4" d="M120 128c-13.3 0-24 10.7-24 24V328c0 13.3 10.7 24 24 24H392c13.3 0 24-10.7 24-24V152c0-13.3-10.7-24-24-24H120z"/><path class="fa-primary" d="M0 96C0 60.7 28.7 32 64 32H512c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64c0 17.7-14.3 32-32 32s-32-14.3-32-32H128c0 17.7-14.3 32-32 32s-32-14.3-32-32c-35.3 0-64-28.7-64-64V96zm96 56V328c0 13.3 10.7 24 24 24H392c13.3 0 24-10.7 24-24V152c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24zm400-40c-8.8 0-16 7.2-16 16V352c0 8.8 7.2 16 16 16s16-7.2 16-16V128c0-8.8-7.2-16-16-16z"/></svg>'}],Ae=[{name:"sugar",price:3e3,img:"/statics/food/sugar.webp"},{name:"flour",price:1e3,img:"/statics/food/flour.webp"},{name:"butter",price:2e3,img:"/statics/food/butter.webp"},{name:"egg",price:5e4,img:"/statics/food/egg.webp"},{name:"chocolate_chips",price:6e3,img:"/statics/food/chip_chocolate.webp"},{name:"baking_powder",price:1e4,img:"/statics/food/baking_powder.webp"}];function We(w,C,O){return Math.round(w*Math.pow(O||1.08,C))}function Ke(w){const C=document.querySelector("#multiplier");!C||w===0||(C.getAttribute("data-trans")&&C.removeAttribute("data-trans"),C.innerText=`${w} cookie${w>1?"s":""}/sec`)}function Qe(w){const C=document.querySelector("#multiplier-cookie");!C||w===0||(C.innerText=`${w} cookie${w>1?"s":""}/click`)}function ht(w,C,O){return O.matchToken("secret")?{args:[w.requireElement("expression",O)],async op(I,k){const M=I.me;M.state||(M.state={});const P=xe(),Q=P.s.includes(k);if(M.state.disabled||Q)return C.findNext(this);const B=document.querySelector("#coin-audio");if(!B)return C.findNext(this);B.currentTime=0,B.volume=.5,B.play(),k==="sign"&&(P.m=P.m+5),k==="doc"&&(P.m=P.m+4),Ke(P.m);const V=P.cm===1?0:P.cm;return k==="get-started"&&(P.cm=V+5),k==="kll"&&(P.cm=V+10),Qe(P.cm),M.state.disabled=!0,M.style.opacity=.5,P.cm=P.cm,P.m=P.m,P.s=[...P.s,k],Le(P),C.findNext(this)}}:null}function vt(w,C,O){return O.matchToken("buy")?{async op(z){var oe,Oe,fe,Me;const I=z.me,k=xe(),M=k.c,P=I.state.item,Q=[...De,...Ae].find(Ve=>Ve.name===P.originalName);if(!P||!Q)return C.findNext(this);const{price:B}=P,V=Number(B.replace(/\s/g,""));if(!V)return C.findNext(this);if(M<V)return C.findNext(this);const{clickMultiplier:Y,secMultiplier:$}=P;((oe=k.p)==null?void 0:oe[P.originalName])===void 0&&(k.p[P.originalName]=0);const ne=P.possessed+1;k.p={...k.p,[P.originalName]:k.p[P.originalName]+1};const ee=k.m+($??0),he=k.cm+(Y??0),Ie=M-V,Re=We(Q.price,(Oe=k.p)==null?void 0:Oe[P.originalName]);I.state.item={...P,possessed:ne,price:String(Re).replace(/\B(?=(\d{3})+(?!\d))/g," ")},Y&&(k.cm=he),$&&(k.m=ee),((fe=k.sh)==null?void 0:fe[P.originalName])>=0&&(k.sh={...k.sh,[P.originalName]:ne}),((Me=k.sf)==null?void 0:Me[P.originalName])>=0&&(k.sf={...k.sf,[P.originalName]:ne}),k.c=Ie,Qe(he),Ke(ee),Le({c:Ie,cm:he,m:ee,sh:k.sh,sf:k.sf,p:k.p});const Be=I.querySelector("[data-price]"),je=I.querySelector("[data-possessed]");return Be.innerText=I.state.item.price,je.innerText=I.state.item.possessed,C.findNext(this)}}:null}function Et(w,C,O){return O.matchToken("cookie")?{async op(z){const I=z.me,k=xe();I.style.transition="transform .1s ease-in-out",I.style.transform="scale(.9)";const M=document.querySelector("#coin-audio");M.currentTime=0,M.volume=.5,M.play(),setTimeout(()=>{I.style.transform="scale(1)"},50);const P=k.cm===0?1:k.cm;return k.c+=1*P,C.findNext(this)}}:null}function yt(w,C,O){return O.matchToken("cookize")?{async op(z){const I=z.me,M=xe().c;return M===0?C.findNext(this):(I.classList.add("text-2xl"),I.classList.contains("text-[6rem]")&&(I.classList.remove("text-[6rem]"),I.classList.add("text-[2rem]")),I.classList.contains("leading-[5.5rem]")&&(I.classList.remove("leading-[5.5rem]"),I.classList.add("leading-[2rem]")),I.innerText=M.toString().padStart(2,"0").replace(/\B(?=(\d{3})+(?!\d))/g," "),C.findNext(this))}}:null}async function gt(){document.querySelectorAll("[_*='on click buy']").forEach(C=>{var M;const O=xe(),z=(M=C==null?void 0:C.state)==null?void 0:M.item;if(!z)return;const{price:I}=z,k=Number(I.replace(/\s/g,""));if(k)if(k>O.c){C.state.disabled=!0,C.style.opacity=.5,C.disabled=!0;return}else C.state.disabled=!1,C.style.opacity=1,C.disabled=!1})}function Tt(w,C,O){return O.matchToken("factory")?{async op(z){const I=z.me,k=xe();document.querySelectorAll("[_*='on click secret']").forEach(Y=>{const ne=Y.getAttribute("_").replace(/[\s'`]/g,"").replace(/onclicksecret|end/g,"");k.s.includes(ne)&&(Y.state||(Y.state={}),Y.state.disabled=!0,Y.style.opacity=.5)}),Qe(k.cm),Ke(k.m);const P=async()=>{k.m===0&&k.c===0||(k.c=k.c+1*k.m)},Q=async()=>{if(k.c===0)return;const Y=k.c>=1e6,$=k.c>=1e9,ne=k.c>=1e12,ee=k.c>=1e15,he="cookies - COOKIZE";ee?document.title=`${(k.c/1e15).toFixed(2)} quadrillion ${he}`:ne?document.title=`${(k.c/1e12).toFixed(2)} trillion ${he}`:$?document.title=`${(k.c/1e9).toFixed(2)} billion ${he}`:Y?document.title=`${(k.c/1e6).toFixed(2)} million ${he}`:document.title=`${k.c} ${he}`,Le({c:k.c,cm:k.cm,m:k.m})};let B=0;const V=setInterval(()=>{B%10===0&&P(),B%50===0&&Q(),B++},100);return I.kll_cron=V,C.findNext(this)}}:null}const tt=[{name:"chocolate_chip_cookies",img:"/statics/cookie.webp",ingredients:[{name:"chocolate_chips",quantity:200,unit:"gr"},{name:"egg",quantity:1,unit:""},{name:"sugar",quantity:50,unit:"gr"},{name:"butter",quantity:70,unit:"gr"},{name:"flour",quantity:140,unit:"gr"},{name:"baking_powder",quantity:1,unit:"packet"}],steps:[{action:"add",ingredients:["egg","sugar"],container:"bowl 1",description:"chocolate_chip_cookies_step1"},{action:"add",ingredients:["soft-butter","flour","baking-powder","chocolate-chips"],container:"bowl 2",description:"chocolate_chip_cookies_step2"},{action:"mix",container:"bowl 2",description:"chocolate_chip_cookies_step3"},{action:"combine",containers:["bowl 1","bowl 2"],description:"chocolate_chip_cookies_step4"},{action:"place",description:"Place 12 balls of dough"},{action:"bake",temperature:"200°C",time:"12 min",description:"chocolate_chip_cookies_step5"}]}];function kt(w){return w.startsWith("[")||w.startsWith("{")?JSON.parse(w):w}function He(w,C,O){const z=typeof O;return w.setAttribute("data-state-"+C,z.match(/string|number|bool/)?O:JSON.stringify(O)),w}const Ze="cookize_lang";function nt(){const w=localStorage.getItem(Ze);if(w)return w;const O=(navigator.language||navigator.userLanguage).split("-")[0];return localStorage.setItem(Ze,O),O.match(/fr|en|pt|it|es|de|ru/)?O:"en"}const ge={kofi:{en:"Buy me a coffee",fr:"Offrez-moi un café",pt:"Me pague um café",it:"Offrimi un caffè",es:"Cómprame un café",de:"Kauf mir einen Kaffee",ru:"Купи мне кофе"},"get-started":{en:"Get started",fr:"Commencer",pt:"Começar",it:"Inizia",es:"Empezar",de:"Anfangen",ru:"Начать"},documentation:{en:"Documentation",fr:"Documentation",pt:"Documentação",it:"Documentazione",es:"Documentación",de:"Dokumentation",ru:"Документация"},tagline:{en:"Enchanced your Teamwork",fr:"Améliorez votre travail d'équipe",pt:"Melhore seu trabalho em equipe",it:"Migliora il tuo lavoro di squadra",es:"Mejora tu trabajo en equipo",de:"Verbessere deine Teamarbeit",ru:"Улучшите свою командную работу"},unlock_recipes:{fr:"Les recettes d'un succès",en:"The recipes of a success",pt:"As receitas do sucesso",it:"Le ricette del successo",es:"Las recetas del éxito",de:"Die Rezepte des Erfolgs",ru:"Рецепты успеха"},propulsed:{en:"Propulsed by",fr:"Propulsé par",pt:"Impulsionado por",it:"Propulso da",es:"Propulsado por",de:"Angetrieben von",ru:"Разработано"},pricing:{en:"Pricing",fr:"Tarification",pt:"Preço",it:"Prezzo",es:"Precio",de:"Preis",ru:"Цена"},contact:{en:"Contact",fr:"Contact",pt:"Contato",it:"Contatto",es:"Contacto",de:"Kontakt",ru:"Контакт"},about:{en:"About",fr:"À propos",pt:"Sobre",it:"Di",es:"Sobre",de:"Über",ru:"О"},home:{en:"Home",fr:"Accueil",pt:"Início",it:"Home",es:"Inicio",de:"Zuhause",ru:"Главная"},sign_in:{en:"Sign in",fr:"Se connecter",pt:"Entrar",it:"Registrati",es:"Registrarse",de:"Einloggen",ru:"Войти"},possessed:{en:"Possessed",fr:"Possédé",pt:"Possuído",it:"Posseduto",es:"Poseído",de:"Besessen",ru:"Владел"},furnace:{en:"Furnace",fr:"Four",pt:"Forno",it:"Forno",es:"Horno",de:"Ofen",ru:"Печь"},food_processor:{en:"Food processor",fr:"Robot culinaire",pt:"Processador de alimentos",it:"Robot da cucina",es:"Procesador de alimentos",de:"Lebensmittelprozessor",ru:"Пищевой процессор"},ustensils:{en:"Ustensils",fr:"Ustensiles",pt:"Utensílios",it:"Utensili",es:"Utensilios",de:"Kochgeschirr",ru:"Посуда"},food_desc:{fr:"ingredient pour les recettes",en:"ingredient for recipes",pt:"ingrediente para receitas",it:"ingrediente per ricette",es:"ingrediente para recetas",de:"Zutat für Rezepte",ru:"ингредиент для рецептов"},flour:{en:"Flour",fr:"Farine",pt:"Farinha",it:"Farina",es:"Harina",de:"Mehl",ru:"Мука"},sugar:{en:"Sugar",fr:"Sucre",pt:"Açúcar",it:"Zucchero",es:"Azúcar",de:"Zucker",ru:"Сахар"},soft_butter:{en:"Soft butter",fr:"Beurre mou",pt:"Manteiga mole",it:"Burro morbido",es:"Mantequilla blanda",de:"Weiche Butter",ru:"Мягкое масло"},butter:{en:"Butter",fr:"Beurre",pt:"Manteiga",it:"Burro",es:"Mantequilla",de:"Butter",ru:"Масло"},chip_chocolate:{en:"Chocolate chips",fr:"Pépites de chocolat",pt:"Gotas de chocolate",it:"Gocce di cioccolato",es:"Chips de chocolate",de:"Schokoladenchips",ru:"Шоколадные чипсы"},recipes:{en:"Recipes",fr:"Recettes",pt:"Receitas",it:"Ricette",es:"Recetas",de:"Rezepte",ru:"Рецепты"},chocolate_chip_cookies:{en:"Chocolate chip cookies",fr:"Cookies aux pépites de chocolat",pt:"Cookies com gotas de chocolate",it:"Biscotti con gocce di cioccolato",es:"Galletas con chispas de chocolate",de:"Schokoladenkekse",ru:"Печенье с шоколадной крошкой"},recipe_shop_unlocked:{en:"Recipe unlocked",fr:"Recette débloquée",pt:"Receita desbloqueada",it:"Ricetta sbloccata",es:"Receta desbloqueada",de:"Rezept freigeschaltet",ru:"Рецепт разблокирован"},add:{en:"Add",fr:"Ajouter",pt:"Adicionar",it:"Aggiungere",es:"Añadir",de:"Hinzufügen",ru:"Добавить"},mix:{en:"Mix",fr:"Mélanger",pt:"Misturar",it:"Mescolare",es:"Mezclar",de:"Mischen",ru:"Смешать"},combine:{en:"Combine",fr:"Combiner",pt:"Combinar",it:"Combinare",es:"Combinar",de:"Kombinieren",ru:"Объединить"},place:{en:"Place",fr:"Placer",pt:"Colocar",it:"Luogo",es:"Lugar",de:"Platz",ru:"Место"},bake:{en:"Bake",fr:"Cuire",pt:"Assar",it:"Cuocere",es:"Hornear",de:"Backen",ru:"Печь"},steps:{en:"Steps",fr:"Étapes",pt:"Passos",it:"Passi",es:"Pasos",de:"Schritte",ru:"Шаги"},ingredients:{en:"Ingredients",fr:"Ingrédients",pt:"Ingredientes",it:"Ingredienti",es:"Ingredientes",de:"Zutaten",ru:"Ингредиенты"},chocolate_chip_cookies_step1:{en:"Add egg and sugar into bowl 1 and mix",fr:"Ajouter l'oeuf et le sucre dans le bol 1 et mélanger",pt:"Adicione o ovo e o açúcar na tigela 1 e misture",it:"Aggiungi uovo e zucchero nella ciotola 1 e mescola",es:"Agregue el huevo y el azúcar en el tazón 1 y mezcle",de:"Ei und Zucker in Schüssel 1 geben und mischen",ru:"Добавьте яйцо и сахар в миску 1 и перемешайте"},chocolate_chip_cookies_step2:{en:"Add soft butter, flour, baking powder and chocolate chips into bowl 2 and mix",fr:"Ajouter le beurre mou, la farine, la levure et les pépites de chocolat dans le bol 2 et mélanger",pt:"Adicione a manteiga mole, farinha, fermento e gotas de chocolate na tigela 2 e misture",it:"Aggiungi burro morbido, farina, lievito e gocce di cioccolato nella ciotola 2 e mescola",es:"Agregue la mantequilla blanda, la harina, el polvo de hornear y las chispas de chocolate en el tazón 2 y mezcle",de:"Weiche Butter, Mehl, Backpulver und Schokoladenchips in Schüssel 2 geben und mischen",ru:"Добавьте мягкое масло, муку, разрыхлитель и шоколадные чипсы в миску 2 и перемешайте"},chocolate_chip_cookies_step3:{en:"Mix the contents of bowl 2",fr:"Mélanger le contenu du bol 2",pt:"Misture o conteúdo da tigela 2",it:"Mescola il contenuto della ciotola 2",es:"Mezcle el contenido del tazón 2",de:"Inhalt von Schüssel 2 mischen",ru:"Перемешайте содержимое миски 2"},chocolate_chip_cookies_step4:{en:"Add contents of bowl 1 to bowl 2 and mix",fr:"Ajouter le contenu du bol 1 dans le bol 2 et mélanger",pt:"Adicione o conteúdo da tigela 1 na tigela 2 e misture",it:"Aggiungi il contenuto della ciotola 1 nella ciotola 2 e mescola",es:"Agregue el contenido del tazón 1 al tazón 2 y mezcle",de:"Inhalt von Schüssel 1 zu Schüssel 2 geben und mischen",ru:"Добавьте содержимое миски 1 в миску 2 и перемешайте"},chocolate_chip_cookies_step5:{en:"Bake at 200°C for 12 minutes",fr:"Cuire à 200°C pendant 12 minutes",pt:"Asse a 200°C por 12 minutos",it:"Cuocere a 200°C per 12 minuti",es:"Hornear a 200°C durante 12 minutos",de:"Bei 200°C 12 Minuten backen",ru:"Выпекать при 200°C в течение 12 минут"},baking_powder:{en:"Baking powder",fr:"Levure",pt:"Fermento",it:"Lievito",es:"Polvo de hornear",de:"Backpulver",ru:"Разрыхлитель"},chocolate_chips:{en:"Chocolate chips",fr:"Pépites de chocolat",pt:"Gotas de chocolate",it:"Gocce di cioccolato",es:"Chips de chocolate",de:"Schokoladenchips",ru:"Шоколадные чипсы"},bowl:{en:"Bowl",fr:"Bol",pt:"Tigela",it:"Ciotola",es:"Tazón",de:"Schüssel",ru:"Миска"},microwave:{en:"Microwave",fr:"Micro-ondes",pt:"Microondas",it:"Forno a microonde",es:"Microonda",de:"Mikrowelle",ru:"Микроволновая печь"},knife:{en:"Knife",fr:"Couteau",pt:"Faca",it:"Coltello",es:"Cuchillo",de:"Messer",ru:"Нож"}};function rt(w){const C=nt(),O=w?w.querySelectorAll("[data-trans]"):document.querySelectorAll("[data-trans]"),z=w?w.querySelectorAll("[placeholder]"):document.querySelectorAll("[placeholder]");O.forEach(I=>{var B;const k=I.getAttribute("data-trans"),M=I.getAttribute("data-trans-count"),P=M>1?`${k}_multi`:k;let Q=((B=ge==null?void 0:ge[P])==null?void 0:B[C])||k;M&&(Q=Q.replace("{{count}}",M)),I.innerHTML=Q}),z.forEach(I=>{var P;const k=I.getAttribute("placeholder"),M=((P=ge==null?void 0:ge[k])==null?void 0:P[C])||k;I.setAttribute("placeholder",M)})}function de(w,C=0){var I;const O=nt(),z=C>1?`${w}_multi`:w;return((I=ge==null?void 0:ge[z])==null?void 0:I[O])||w}function xt(w){const O=ze().sf||{},{name:z}=w,I=Ae.find(M=>M.name===z);if(!I)return"";const k=document.createElement("div");return k.setAttribute("_","on load template 'recipe-item'"),He(k,"item",{originalName:z,img:I.img,name:de(z),possessed:O[z]||0,quantity:w.quantity}),k.outerHTML}function bt(w,C,O){return O.matchToken("recipes")?{async op(z){const I=z.me,k=document.createElement("div"),P=ze().u||[];return tt.forEach(Q=>{const B=document.createElement("div"),V=P.includes(Q.name);B.setAttribute("_","on load template 'recipe-shop'");const Y={originalName:Q.name,img:Q.img,name:de(Q.name),isUnlock:V,ingredients:Q.ingredients.map(xt).filter($=>$!=="")};k.appendChild(He(B,"recipe",Y))}),I.replaceWith(k),C.findNext(this)}}:null}function wt(w,C,O){return O.matchToken("shop")?{async op(z){const I=z.me,k=document.createElement("div");k.classList.add("flex","flex-col","gap-2");const M=xe(),P=M.sh||{},Q=M.sf||{};return Object.keys(De).forEach(B=>{const{name:V}=De[B];P[V]||(P[V]=0)}),Object.keys(Ae).forEach(B=>{const{name:V}=Ae[B];Q[V]||(Q[V]=0)}),De.forEach(B=>{var ee;const V=P[B.name];(ee=M.p)!=null&&ee[B.name]||(M.p[B.name]=0);const Y=We(B.price,M.p[B.name]),$=document.createElement("div");$.setAttribute("_","on load template 'shop-item'");const ne=B.clickMultiplier?`+${B.clickMultiplier} cookie${B.clickMultiplier>1?"s":""}/click`:`+${B.secMultiplier} cookie${B.secMultiplier>1?"s":""}/sec`;k.appendChild(He($,"item",{...B,originalName:B.name,name:de(B.name),price:String(Y).replace(/\B(?=(\d{3})+(?!\d))/g," "),possessed:V,description:ne,disabled:Y>M.c}))}),Ae.forEach(B=>{var ne;const V=Q[B.name];(ne=M.p)!=null&&ne[B.name]||(M.p[B.name]=0);const Y=We(B.price,M.p[B.name]),$=document.createElement("div");$.setAttribute("_","on load template 'shop-food-item'"),k.appendChild(He($,"item",{...B,originalName:B.name,name:de(B.name),price:String(Y).replace(/\B(?=(\d{3})+(?!\d))/g," "),possessed:V,disabled:Y>M.c}))}),I.state={...I.state,shopFactory:P,shopFood:Q},Le({sh:P,sf:Q,p:M.p}),I.replaceWith(k),C.findNext(this)}}:null}const St=(w,C)=>{const O=w[C];return O?typeof O=="function"?O():Promise.resolve(O):new Promise((z,I)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(I.bind(null,new Error("Unknown variable dynamic import: "+C)))})};function Ct(w,C,O){return O.matchToken("template")?{args:[w.requireElement("expression",O)],async op(I,k){if(!k)return C.findNext(this);const M=await St(Object.assign({"../front/templates/button.html":()=>ae(()=>import("./button-K-U6SjtK.js"),__vite__mapDeps([])),"../front/templates/cookie.html":()=>ae(()=>import("./cookie-Fd3BAvIA.js"),__vite__mapDeps([])),"../front/templates/cookize.html":()=>ae(()=>import("./cookize-ouvLgW2l.js"),__vite__mapDeps([])),"../front/templates/drawer.html":()=>ae(()=>import("./drawer-TCRRkpCA.js"),__vite__mapDeps([])),"../front/templates/footer.html":()=>ae(()=>import("./footer-vrshRahb.js"),__vite__mapDeps([])),"../front/templates/header.html":()=>ae(()=>import("./header-c7MsMJMJ.js"),__vite__mapDeps([])),"../front/templates/kofi.html":()=>ae(()=>import("./kofi-iEGsauo7.js"),__vite__mapDeps([])),"../front/templates/pricing-btn.html":()=>ae(()=>import("./pricing-btn--a8M2L9A.js"),__vite__mapDeps([])),"../front/templates/propulsed.html":()=>ae(()=>import("./propulsed-m764MeA0.js"),__vite__mapDeps([])),"../front/templates/recipe-item.html":()=>ae(()=>import("./recipe-item-2-oLUSh3.js"),__vite__mapDeps([])),"../front/templates/recipe-shop.html":()=>ae(()=>import("./recipe-shop-yo2o_-UR.js"),__vite__mapDeps([])),"../front/templates/shop-food-item.html":()=>ae(()=>import("./shop-food-item-ulxGvehF.js"),__vite__mapDeps([])),"../front/templates/shop-item.html":()=>ae(()=>import("./shop-item-_pkvRDSn.js"),__vite__mapDeps([])),"../front/templates/unlock.html":()=>ae(()=>import("./unlock-5o_eLOJq.js"),__vite__mapDeps([]))}),`../front/templates/${k}.html`),P=document.createElement("div");P.state||(P.state={}),P.innerHTML=M.default;const Q=P.querySelector(`#${k}`).content,B=document.importNode(Q,!0),V=document.createElement("div");V.appendChild(B);const Y=I.me,$=Y.innerHTML;if(Object.keys(Y.attributes).forEach(ne=>{const ee=Y.attributes[ne];ee.name.includes("data-state-")?(V.firstElementChild.state||(V.firstElementChild.state={}),V.firstElementChild.state={...V.firstElementChild.state,[ee.name.replace("data-state-","")]:kt(ee.value)}):ee.name.includes("data-")&&V.firstElementChild.setAttribute(ee.name,ee.value)}),V.innerHTML.includes("<slot>")){const ne=V.querySelector("slot");ne.outerHTML=$}return rt(V),V.firstElementChild.templateName=k,Y.replaceWith(V.firstElementChild),_hyperscript.processNode(document.querySelector("#app")),C.findNext(this)}}:null}function qt(w,C,O){return O.matchToken("toogleDrawer")?{args:[w.requireElement("expression",O)],async op(I,k){return document.querySelectorAll("[data-drawer='true']").forEach(P=>{if(P.getAttribute("data-name")!==k)P.style.transform="translateX(100%)";else{const B="translateX(100%)";P.style.transform=P.style.transform?"":B}}),C.findNext(this)}}:null}function Nt(w,C,O){return O.matchToken("translate")?{async op(){return rt(),C.findNext(this)}}:null}function At(w,C,O){return O.matchToken("recipe")?{async op(z){var Y;const I=z.me;if(!((Y=I==null?void 0:I.state)!=null&&Y.recipe))return C.findNext(this);const{recipe:{isUnlock:k,originalName:M}}=I.state,P=xe(),Q=tt.find($=>$.name===M),B={...P.sf};if(!Q)return C.findNext(this);if(!k){if(!Q.ingredients.every(ee=>(B==null?void 0:B[ee.name])>=ee.quantity))return C.findNext(this);Q.ingredients.forEach(ee=>{B[ee.name]-=ee.quantity});const ne=document.querySelector('[data-trans="recipe_shop_unlocked"]');ne.innerHTML=de("recipe_shop_unlocked"),console.log("recipe locked",B),P.sf={...B},P.u=[...P.u,M],Le(P)}const V=document.createElement("dialog");return V.innerHTML=`
        <div class="flex justify-between sticky top-0 bg-black p-2">
          <h1 class="font-InterBold">${de(M)}</h1>
          <button data-action="close" class="fill-cookiz-tile">
            <svg data-action="close" xmlns="http://www.w3.org/2000/svg" height="25" width="25" viewBox="0 0 512 512">
              <!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.-->
              <path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm97.9-320L320 158.1l-17 17-47 47-47-47-17-17L158.1 192l17 17 47 47-47 47-17 17L192 353.9l17-17 47-47 47 47 17 17L353.9 320l-17-17-47-47 47-47 17-17z" />
            </svg>
          </button>
        </div>
        
        <div class="flex flex-col gap-1 overflow-y-auto p-2">
          <h2 class="text-cookiz-margin uppercase border-b border-cookiz-line">${de("ingredients")}</h2>
          ${Q.ingredients.map(($,ne)=>`
          <div class="flex gap-1">
          <p class="font-InterBold">${$.quantity} ${de($.unit)}</p>
          <p>${de($.name)}</p>
          </div>
          `).join("")}
          <h2 class="text-cookiz-margin uppercase mt-5 border-b border-cookiz-line">${de("steps")}</h2>
        ${Q.steps.map(($,ne)=>`
          <div class="mb-2">
          <h2 class="text-cookiz-margin first-letter:uppercase">${de($.action)}</h2>
          <p class="max-w-xl">${de($.description)}</p>
          </div>
          `).join("")}
        </div>
      `,V.addEventListener("click",$=>{$.target.dataset.action==="close"&&V.remove()}),document.body.appendChild(V),V.showModal(),C.findNext(this)}}:null}function it(w){var z;const O=(z=document.querySelector("#app").routes[w])==null?void 0:z.default;if(O){const I=document.querySelector("#app");I.innerHTML=O,_hyperscript.processNode(I)}}document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",function(C){document.querySelectorAll("[data-drawer='true']").forEach(z=>{const I=C.target.getAttribute("_")||"";!z.contains(C.target)&&!I.match(/toogleDrawer/)&&(z.style.transform="translateX(100%)")})});const w=document.querySelector("#app");w.store=new Proxy(ze(),{async set(C,O,z){return C[O]=z,O==="c"&&gt(),document.querySelectorAll(`[data-bind="${O}"]`).forEach(k=>{const M=document.createElement(k.tagName);M.setAttribute("_",`on load template '${k.templateName}'`),k.templateName.match(/unlock/)?(k.parentElement.replaceChild(M,k),_hyperscript.processNode(k)):(k.appendChild(M),_hyperscript.processNode(k.parentElement))}),!0}}),_hyperscript.addCommand("navigate",(C,O,z)=>z.matchToken("navigate")?{args:[C.requireElement("expression",z)],async op(k,M){return window.history.pushState({},"",M),it(M),O.findNext(this)}}:null),_hyperscript.addCommand("template",Ct),_hyperscript.addCommand("factory",Tt),_hyperscript.addCommand("cookie",Et),_hyperscript.addCommand("cookize",yt),_hyperscript.addCommand("secret",ht),_hyperscript.addCommand("translate",Nt),_hyperscript.addCommand("toogleDrawer",qt),_hyperscript.addCommand("shop",wt),_hyperscript.addCommand("buy",vt),_hyperscript.addCommand("recipes",bt),_hyperscript.addCommand("recipe",At)});function Lt(w){const C=document.querySelector("#app");C.routes=w,it(window.location.pathname)}(async()=>Lt({"/":await ae(()=>import("./index-bEKcF6Uk.js"),__vite__mapDeps([])),"/home":await ae(()=>import("./index-bEKcF6Uk.js"),__vite__mapDeps([]))}))()});export default It();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}